<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" href="./assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" href="./assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" href="./assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="manifest" href="./manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>notebook.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>output notebook</title>
    <script type="module" crossorigin src="./assets/index-BXqkmYCF.js"></script>
    <link rel="modulepreload" crossorigin href="./assets/preload-helper-BnutJmlU.js">
    <link rel="modulepreload" crossorigin href="./assets/chunk-DZLz74EQ.js">
    <link rel="modulepreload" crossorigin href="./assets/react-BcIddLXZ.js">
    <link rel="modulepreload" crossorigin href="./assets/compiler-runtime-Cr9loedd.js">
    <link rel="modulepreload" crossorigin href="./assets/jsx-runtime-mwDPpfh_.js">
    <link rel="modulepreload" crossorigin href="./assets/useEventListener-D1FLsfmf.js">
    <link rel="modulepreload" crossorigin href="./assets/react-dom-D6bRRS5R.js">
    <link rel="modulepreload" crossorigin href="./assets/Combination-BjaZc6gK.js">
    <link rel="modulepreload" crossorigin href="./assets/clsx-BlAkgCmw.js">
    <link rel="modulepreload" crossorigin href="./assets/cn-ZXtYmczU.js">
    <link rel="modulepreload" crossorigin href="./assets/menu-items-DwOFR2Zi.js">
    <link rel="modulepreload" crossorigin href="./assets/hotkeys-ClCtr3_I.js">
    <link rel="modulepreload" crossorigin href="./assets/button-ZC2axIBq.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-o-4-WxUj.js">
    <link rel="modulepreload" crossorigin href="./assets/createLucideIcon-CNVopWor.js">
    <link rel="modulepreload" crossorigin href="./assets/check-CuBLr6Cm.js">
    <link rel="modulepreload" crossorigin href="./assets/select-5fcaZwou.js">
    <link rel="modulepreload" crossorigin href="./assets/multi-map-D9JaQ_m6.js">
    <link rel="modulepreload" crossorigin href="./assets/chevron-right-BV0VfNbL.js">
    <link rel="modulepreload" crossorigin href="./assets/dropdown-menu-uN_XMhZm.js">
    <link rel="modulepreload" crossorigin href="./assets/tooltip-BHnVWzH0.js">
    <link rel="modulepreload" crossorigin href="./assets/_Uint8Array-D5Z9rM2X.js">
    <link rel="modulepreload" crossorigin href="./assets/_getTag-CVRrQL_Q.js">
    <link rel="modulepreload" crossorigin href="./assets/_baseIsEqual-CVFfFJm2.js">
    <link rel="modulepreload" crossorigin href="./assets/jotai-BTnrNcC1.js">
    <link rel="modulepreload" crossorigin href="./assets/invariant-D5a0EE05.js">
    <link rel="modulepreload" crossorigin href="./assets/isArrayLikeObject-DKyJYtr8.js">
    <link rel="modulepreload" crossorigin href="./assets/merge-Dvc5opZF.js">
    <link rel="modulepreload" crossorigin href="./assets/zod-U2NFpcFA.js">
    <link rel="modulepreload" crossorigin href="./assets/utils-DEDX0RLo.js">
    <link rel="modulepreload" crossorigin href="./assets/requests-BACZP_uj.js">
    <link rel="modulepreload" crossorigin href="./assets/once-C5bmD4W5.js">
    <link rel="modulepreload" crossorigin href="./assets/toDate-C3oOx2yr.js">
    <link rel="modulepreload" crossorigin href="./assets/_baseSlice-BWZ0PeaJ.js">
    <link rel="modulepreload" crossorigin href="./assets/_arrayMap-DQI2GUNb.js">
    <link rel="modulepreload" crossorigin href="./assets/isSymbol-xTSywenE.js">
    <link rel="modulepreload" crossorigin href="./assets/toString-CBnct2wx.js">
    <link rel="modulepreload" crossorigin href="./assets/_hasUnicode-3DIK_jNi.js">
    <link rel="modulepreload" crossorigin href="./assets/upperFirst-CBQfDRod.js">
    <link rel="modulepreload" crossorigin href="./assets/capitalize-CBqvgOfA.js">
    <link rel="modulepreload" crossorigin href="./assets/ai-model-dropdown-CvhbTHha.js">
    <link rel="modulepreload" crossorigin href="./assets/badge-Jfhpc30N.js">
    <link rel="modulepreload" crossorigin href="./assets/use-toast-midBZAtS.js">
    <link rel="modulepreload" crossorigin href="./assets/constants-CEISdYm1.js">
    <link rel="modulepreload" crossorigin href="./assets/Deferred-NfAvvkGM.js">
    <link rel="modulepreload" crossorigin href="./assets/config-C6qInAhC.js">
    <link rel="modulepreload" crossorigin href="./assets/uuid-D0hUC3Qw.js">
    <link rel="modulepreload" crossorigin href="./assets/key-Cx1qY8eM.js">
    <link rel="modulepreload" crossorigin href="./assets/connection-Bs4SQ_vu.js">
    <link rel="modulepreload" crossorigin href="./assets/useLifecycle-DogGOXPh.js">
    <link rel="modulepreload" crossorigin href="./assets/useNonce-VIoWEX5z.js">
    <link rel="modulepreload" crossorigin href="./assets/capabilities-srilPYuF.js">
    <link rel="modulepreload" crossorigin href="./assets/createReducer-CeLhipaI.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-MHIqsPCF.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-8_YHxBVW.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-CbvGwhr0.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-CPUmJw_F.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-DcDuMWp5.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-DJV2CjUA.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-C14Sk-Bd.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-vBG1bGij.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-Oad1venD.js">
    <link rel="modulepreload" crossorigin href="./assets/stex-xveX5l_T.js">
    <link rel="modulepreload" crossorigin href="./assets/cjs-Ck8KMDI1.js">
    <link rel="modulepreload" crossorigin href="./assets/_baseProperty-c4IQJQis.js">
    <link rel="modulepreload" crossorigin href="./assets/toNumber-CTOPJrpu.js">
    <link rel="modulepreload" crossorigin href="./assets/now-BXqTLlmI.js">
    <link rel="modulepreload" crossorigin href="./assets/debounce-BUM2losY.js">
    <link rel="modulepreload" crossorigin href="./assets/toInteger-Bor4StOs.js">
    <link rel="modulepreload" crossorigin href="./assets/type-o43RKOcp.js">
    <link rel="modulepreload" crossorigin href="./assets/marked.esm-BV7g2d65.js">
    <link rel="modulepreload" crossorigin href="./assets/main-ChjX94eX.js">
    <link rel="modulepreload" crossorigin href="./assets/cells-A69p56PE.js">
    <link rel="modulepreload" crossorigin href="./assets/kbd-DbVT085u.js">
    <link rel="modulepreload" crossorigin href="./assets/renderShortcut-DJmsjON-.js">
    <link rel="modulepreload" crossorigin href="./assets/useEvent-CRDKqG3C.js">
    <link rel="modulepreload" crossorigin href="./assets/useDeleteCell-CEsjHDdl.js">
    <link rel="modulepreload" crossorigin href="./assets/lazy-oPCv0nK8.js">
    <link rel="modulepreload" crossorigin href="./assets/defaultLocale-YmL2k7Vp.js">
    <link rel="modulepreload" crossorigin href="./assets/precisionRound-Qxa8hC2h.js">
    <link rel="modulepreload" crossorigin href="./assets/defaultLocale-zQltfbSS.js">
    <link rel="modulepreload" crossorigin href="./assets/vega-loader.browser-D2m26-DP.js">
    <link rel="modulepreload" crossorigin href="./assets/tooltip-BFMRXuzR.js">
    <link rel="modulepreload" crossorigin href="./assets/ErrorBoundary-_uEOjNWh.js">
    <link rel="modulepreload" crossorigin href="./assets/alert-dialog-8EwWlboa.js">
    <link rel="modulepreload" crossorigin href="./assets/dialog-BfhgTWm1.js">
    <link rel="modulepreload" crossorigin href="./assets/useDebounce-DzG_89QJ.js">
    <link rel="modulepreload" crossorigin href="./assets/numbers-CTSqyVyD.js">
    <link rel="modulepreload" crossorigin href="./assets/SSRProvider-B8x7qo1c.js">
    <link rel="modulepreload" crossorigin href="./assets/context-CcLKJeA2.js">
    <link rel="modulepreload" crossorigin href="./assets/useNumberFormatter-F8R3LBxf.js">
    <link rel="modulepreload" crossorigin href="./assets/usePress-BO20vkQb.js">
    <link rel="modulepreload" crossorigin href="./assets/input-BNb8K99m.js">
    <link rel="modulepreload" crossorigin href="./assets/ImperativeModal-C4fZHLKz.js">
    <link rel="modulepreload" crossorigin href="./assets/cell-link-D75IV6D1.js">
    <link rel="modulepreload" crossorigin href="./assets/alert-BqjCH_7t.js">
    <link rel="modulepreload" crossorigin href="./assets/links-CMl0qG9J.js">
    <link rel="modulepreload" crossorigin href="./assets/state-JZFfOGr9.js">
    <link rel="modulepreload" crossorigin href="./assets/MarimoErrorOutput-BATnwNYX.js">
    <link rel="modulepreload" crossorigin href="./assets/spinner-CuquyDWA.js">
    <link rel="modulepreload" crossorigin href="./assets/_arrayReduce-DV4IVFuG.js">
    <link rel="modulepreload" crossorigin href="./assets/startCase-RfubwhHM.js">
    <link rel="modulepreload" crossorigin href="./assets/strings-DHsDEFo-.js">
    <link rel="modulepreload" crossorigin href="./assets/command-Dlk4i3l7.js">
    <link rel="modulepreload" crossorigin href="./assets/popover-F0Sfc1dn.js">
    <link rel="modulepreload" crossorigin href="./assets/useRunCells-BLpH_l8E.js">
    <link rel="modulepreload" crossorigin href="./assets/copy-LsxoSTiV.js">
    <link rel="modulepreload" crossorigin href="./assets/copy-Dy_tLkL8.js">
    <link rel="modulepreload" crossorigin href="./assets/copy-icon-CE7wmMnS.js">
    <link rel="modulepreload" crossorigin href="./assets/mode-Bq6LjPC-.js">
    <link rel="modulepreload" crossorigin href="./assets/purify.es-CPMOFAIu.js">
    <link rel="modulepreload" crossorigin href="./assets/RenderHTML-DTLkV9Uh.js">
    <link rel="modulepreload" crossorigin href="./assets/table-DU76OrPF.js">
    <link rel="modulepreload" crossorigin href="./assets/tabs-l9npw3ob.js">
    <link rel="modulepreload" crossorigin href="./assets/useAsyncData-CngUoIwV.js">
    <link rel="modulepreload" crossorigin href="./assets/useIframeCapabilities-DXQ78nsN.js">
    <link rel="modulepreload" crossorigin href="./assets/error-banner-DoSAS3iD.js">
    <link rel="modulepreload" crossorigin href="./assets/formats-BN93kMCb.js">
    <link rel="modulepreload" crossorigin href="./assets/useTheme-Biy2QI0v.js">
    <link rel="modulepreload" crossorigin href="./assets/en-US-D2gH55FJ.js">
    <link rel="modulepreload" crossorigin href="./assets/isValid-BJSfXqfd.js">
    <link rel="modulepreload" crossorigin href="./assets/maps-B1z3jt-a.js">
    <link rel="modulepreload" crossorigin href="./assets/shim-Cc3VMan6.js">
    <link rel="modulepreload" crossorigin href="./assets/download-ByFIcaoi.js">
    <link rel="modulepreload" crossorigin href="./assets/extends-dwNt6GDg.js">
    <link rel="modulepreload" crossorigin href="./assets/emotion-is-prop-valid.esm-OoyWz_0l.js">
    <link rel="modulepreload" crossorigin href="./assets/useDateFormatter-CPDTrKqK.js">
    <link rel="modulepreload" crossorigin href="./assets/range-ZclXTdAh.js">
    <link rel="modulepreload" crossorigin href="./assets/table-C2gUjtJV.js">
    <link rel="modulepreload" crossorigin href="./assets/Output-DWmT-7NV.js">
    <link rel="modulepreload" crossorigin href="./assets/name-cell-input-DND1MD7b.js">
    <link rel="modulepreload" crossorigin href="./assets/useHotkey-NDxGNWnW.js">
    <link rel="modulepreload" crossorigin href="./assets/objectWithoutPropertiesLoose-COpOcp6W.js">
    <link rel="modulepreload" crossorigin href="./assets/esm-B3nKz9z-.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-GE2AwHvG.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-CMHCymvx.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-ta4iJSan.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-BcppZLnk.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-DRTi9ht4.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-BjGT2Oog.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-CXL8T4lt.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-B0B_Xnwd.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-BcgNLefj.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-j2I9I0a7.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-DM2w8f7r.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-nhBdVy6b.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-D-JTXier.js">
    <link rel="modulepreload" crossorigin href="./assets/apl-BGS-6pM9.js">
    <link rel="modulepreload" crossorigin href="./assets/asciiarmor-CbQH35y7.js">
    <link rel="modulepreload" crossorigin href="./assets/asn1-P7HrFGaM.js">
    <link rel="modulepreload" crossorigin href="./assets/brainfuck-CSxeyQc4.js">
    <link rel="modulepreload" crossorigin href="./assets/clike-Bg9duJDo.js">
    <link rel="modulepreload" crossorigin href="./assets/clojure-B94DOmFw.js">
    <link rel="modulepreload" crossorigin href="./assets/cmake-DQEKyMNG.js">
    <link rel="modulepreload" crossorigin href="./assets/cobol-CY4gVoPW.js">
    <link rel="modulepreload" crossorigin href="./assets/coffeescript-BwWb96Ts.js">
    <link rel="modulepreload" crossorigin href="./assets/commonlisp-Cq_n1sF6.js">
    <link rel="modulepreload" crossorigin href="./assets/crystal-BLTq7Sqq.js">
    <link rel="modulepreload" crossorigin href="./assets/css-CmDcdojQ.js">
    <link rel="modulepreload" crossorigin href="./assets/cypher-ByytCYVx.js">
    <link rel="modulepreload" crossorigin href="./assets/d-xLFRg71F.js">
    <link rel="modulepreload" crossorigin href="./assets/diff-VF6GbDch.js">
    <link rel="modulepreload" crossorigin href="./assets/dtd-D8qb8bJW.js">
    <link rel="modulepreload" crossorigin href="./assets/dylan-CIkom9X4.js">
    <link rel="modulepreload" crossorigin href="./assets/ecl-8wcmTiom.js">
    <link rel="modulepreload" crossorigin href="./assets/eiffel-D2ZBcT03.js">
    <link rel="modulepreload" crossorigin href="./assets/elm-Cpg3TnMc.js">
    <link rel="modulepreload" crossorigin href="./assets/erlang-B4A2pXCG.js">
    <link rel="modulepreload" crossorigin href="./assets/simple-mode-BrL6eoj-.js">
    <link rel="modulepreload" crossorigin href="./assets/factor-DhbRkYZ5.js">
    <link rel="modulepreload" crossorigin href="./assets/forth-C5F1F4pC.js">
    <link rel="modulepreload" crossorigin href="./assets/fortran-D7Gl3Tli.js">
    <link rel="modulepreload" crossorigin href="./assets/gas-BS2f8qHc.js">
    <link rel="modulepreload" crossorigin href="./assets/gherkin-CVZcskwU.js">
    <link rel="modulepreload" crossorigin href="./assets/groovy-BhQsBMwW.js">
    <link rel="modulepreload" crossorigin href="./assets/haskell-BPbxlKgK.js">
    <link rel="modulepreload" crossorigin href="./assets/haxe-TKSAmiMf.js">
    <link rel="modulepreload" crossorigin href="./assets/idl-DFgQu5Ek.js">
    <link rel="modulepreload" crossorigin href="./assets/javascript-dAA8UGkz.js">
    <link rel="modulepreload" crossorigin href="./assets/jinja2-BIbcpWyF.js">
    <link rel="modulepreload" crossorigin href="./assets/julia-CfdFJG3K.js">
    <link rel="modulepreload" crossorigin href="./assets/livescript-FcXY3DYa.js">
    <link rel="modulepreload" crossorigin href="./assets/lua-Co6rjiMf.js">
    <link rel="modulepreload" crossorigin href="./assets/mathematica-yb42KhnJ.js">
    <link rel="modulepreload" crossorigin href="./assets/mbox-Kdy3h0JS.js">
    <link rel="modulepreload" crossorigin href="./assets/mirc-DIfBuSAc.js">
    <link rel="modulepreload" crossorigin href="./assets/mllike-ClozcVVR.js">
    <link rel="modulepreload" crossorigin href="./assets/modelica-DfSVZeoi.js">
    <link rel="modulepreload" crossorigin href="./assets/mscgen-BCcB4vmY.js">
    <link rel="modulepreload" crossorigin href="./assets/mumps-Zs7zFruB.js">
    <link rel="modulepreload" crossorigin href="./assets/nsis-znELVT3h.js">
    <link rel="modulepreload" crossorigin href="./assets/ntriples-BZ-Gx5MV.js">
    <link rel="modulepreload" crossorigin href="./assets/octave-DbhnFGQl.js">
    <link rel="modulepreload" crossorigin href="./assets/oz-C8cfEyhB.js">
    <link rel="modulepreload" crossorigin href="./assets/pascal-DjQLfZxE.js">
    <link rel="modulepreload" crossorigin href="./assets/perl-BbHwsgL1.js">
    <link rel="modulepreload" crossorigin href="./assets/pig-siFNrhhJ.js">
    <link rel="modulepreload" crossorigin href="./assets/powershell-DtGrdgtc.js">
    <link rel="modulepreload" crossorigin href="./assets/properties-ThqBcpfC.js">
    <link rel="modulepreload" crossorigin href="./assets/protobuf-RiYv9VfD.js">
    <link rel="modulepreload" crossorigin href="./assets/pug-DUVdXXqU.js">
    <link rel="modulepreload" crossorigin href="./assets/puppet-U5CQLRYv.js">
    <link rel="modulepreload" crossorigin href="./assets/python-Bwt6zAaD.js">
    <link rel="modulepreload" crossorigin href="./assets/q-DIhdXtBp.js">
    <link rel="modulepreload" crossorigin href="./assets/r-CWawXx6U.js">
    <link rel="modulepreload" crossorigin href="./assets/rpm-CNr8ALvx.js">
    <link rel="modulepreload" crossorigin href="./assets/ruby-DskfS84U.js">
    <link rel="modulepreload" crossorigin href="./assets/sas-C2b2tSOH.js">
    <link rel="modulepreload" crossorigin href="./assets/scheme-Cmmcrp64.js">
    <link rel="modulepreload" crossorigin href="./assets/shell-Dyv1aCg9.js">
    <link rel="modulepreload" crossorigin href="./assets/sieve-B_dGzCIS.js">
    <link rel="modulepreload" crossorigin href="./assets/smalltalk-intFzbz6.js">
    <link rel="modulepreload" crossorigin href="./assets/sparql-BX1c9HJU.js">
    <link rel="modulepreload" crossorigin href="./assets/stylus-X6xt1FMB.js">
    <link rel="modulepreload" crossorigin href="./assets/swift-BYNJXGdg.js">
    <link rel="modulepreload" crossorigin href="./assets/tcl-BaybuQuE.js">
    <link rel="modulepreload" crossorigin href="./assets/textile-77KFAyfi.js">
    <link rel="modulepreload" crossorigin href="./assets/toml-D6E8t1IG.js">
    <link rel="modulepreload" crossorigin href="./assets/troff-BfktZMhT.js">
    <link rel="modulepreload" crossorigin href="./assets/ttcn-cfg-CstA0KVC.js">
    <link rel="modulepreload" crossorigin href="./assets/ttcn-DOlRqUFL.js">
    <link rel="modulepreload" crossorigin href="./assets/turtle-Cx-tHjh2.js">
    <link rel="modulepreload" crossorigin href="./assets/vb-DerFRxqu.js">
    <link rel="modulepreload" crossorigin href="./assets/vbscript-BPEY3B7J.js">
    <link rel="modulepreload" crossorigin href="./assets/velocity-B-lFP8Gk.js">
    <link rel="modulepreload" crossorigin href="./assets/verilog-C9TzcLDl.js">
    <link rel="modulepreload" crossorigin href="./assets/vhdl-v8a_uH2H.js">
    <link rel="modulepreload" crossorigin href="./assets/webidl-DmZw40AA.js">
    <link rel="modulepreload" crossorigin href="./assets/xquery-BrIWpdRx.js">
    <link rel="modulepreload" crossorigin href="./assets/yacas-ofPECLUx.js">
    <link rel="modulepreload" crossorigin href="./assets/z80-DrGVKC-O.js">
    <link rel="modulepreload" crossorigin href="./assets/esm-DtCFmQ1n.js">
    <link rel="modulepreload" crossorigin href="./assets/trash-CRcefzxk.js">
    <link rel="modulepreload" crossorigin href="./assets/ConsoleOutput-BJP_UIwR.js">
    <link rel="modulepreload" crossorigin href="./assets/icons-DaFojEUL.js">
    <link rel="modulepreload" crossorigin href="./assets/add-missing-import-Bc1Nj8aC.js">
    <link rel="modulepreload" crossorigin href="./assets/blob-ISoY06EG.js">
    <link rel="modulepreload" crossorigin href="./assets/add-cell-with-ai-Bf3hYYIu.js">
    <link rel="modulepreload" crossorigin href="./assets/chart-no-axes-column-DYZiSI6e.js">
    <link rel="modulepreload" crossorigin href="./assets/square-function-sjebOKTF.js">
    <link rel="modulepreload" crossorigin href="./assets/spec-C5SzKl5N.js">
    <link rel="modulepreload" crossorigin href="./assets/focus-BaSDCTOl.js">
    <link rel="modulepreload" crossorigin href="./assets/useInstallPackage-I3kefbOO.js">
    <link rel="modulepreload" crossorigin href="./assets/column-preview-WPlkULp9.js">
    <link rel="modulepreload" crossorigin href="./assets/useAddCell-CREgcbTt.js">
    <link rel="modulepreload" crossorigin href="./assets/toggle-DlfY8wql.js">
    <link rel="modulepreload" crossorigin href="./assets/api-YJHlT7KM.js">
    <link rel="modulepreload" crossorigin href="./assets/globals-Dp5TPAWC.js">
    <link rel="modulepreload" crossorigin href="./assets/share-8z32Sr0F.js">
    <link rel="modulepreload" crossorigin href="./assets/dist-DBrqGLzW.js">
    <link rel="modulepreload" crossorigin href="./assets/memoize-DhF8x4Aa.js">
    <link rel="modulepreload" crossorigin href="./assets/_toKey-16owuO_q.js">
    <link rel="modulepreload" crossorigin href="./assets/_baseSet-L2qemYhz.js">
    <link rel="modulepreload" crossorigin href="./assets/utilities.esm-Bjl8-mRM.js">
    <link rel="modulepreload" crossorigin href="./assets/floating-outline-1_-JOoBX.js">
    <link rel="modulepreload" crossorigin href="./assets/eye-off-_Bp7Ir5E.js">
    <link rel="modulepreload" crossorigin href="./assets/plus-CRGccegF.js">
    <link rel="modulepreload" crossorigin href="./assets/readonly-python-code-B4MS39iL.js">
    <link rel="modulepreload" crossorigin href="./assets/file-video-camera-DJUITpag.js">
    <link rel="modulepreload" crossorigin href="./assets/file-text-CFgIi1A4.js">
    <link rel="modulepreload" crossorigin href="./assets/file-Cz8xVTWu.js">
    <link rel="modulepreload" crossorigin href="./assets/types-Bh2kSb2q.js">
    <link rel="modulepreload" crossorigin href="./assets/label-Dcu3RhQ4.js">
    <link rel="modulepreload" crossorigin href="./assets/form-CaSJmn0I.js">
    <link rel="modulepreload" crossorigin href="./assets/textarea-DeG5mMSH.js">
    <link rel="modulepreload" crossorigin href="./assets/circle-x-Dm9uA-wT.js">
    <link rel="modulepreload" crossorigin href="./assets/refresh-ccw-Dg4gNnPm.js">
    <link rel="modulepreload" crossorigin href="./assets/trash-2-BPux4_UF.js">
    <link rel="modulepreload" crossorigin href="./assets/form-DaO98mWt.js">
    <link rel="modulepreload" crossorigin href="./assets/field-CaHPDBhq.js">
    <link rel="modulepreload" crossorigin href="./assets/switch-4s4187gV.js">
    <link rel="modulepreload" crossorigin href="./assets/useBoolean-CpaqzlKu.js">
    <link rel="modulepreload" crossorigin href="./assets/useDeepCompareMemoize-DiJVYA6I.js">
    <link rel="modulepreload" crossorigin href="./assets/LazyAnyLanguageCodeMirror-BovGLUi6.js">
    <link rel="modulepreload" crossorigin href="./assets/types-CHAkS4Oz.js">
    <link rel="modulepreload" crossorigin href="./assets/prop-types-Dr_68tMt.js">
    <link rel="modulepreload" crossorigin href="./assets/es-vLBD1nBl.js">
    <link rel="modulepreload" crossorigin href="./assets/VisuallyHidden-DqOWapbP.js">
    <link rel="modulepreload" crossorigin href="./assets/_baseFlatten-ViL-mfkw.js">
    <link rel="modulepreload" crossorigin href="./assets/get-BUGWIXZE.js">
    <link rel="modulepreload" crossorigin href="./assets/hasIn-BgJKauE7.js">
    <link rel="modulepreload" crossorigin href="./assets/_basePickBy-CSDa7ReR.js">
    <link rel="modulepreload" crossorigin href="./assets/pick-BQzWKfma.js">
    <link rel="modulepreload" crossorigin href="./assets/square-CYRwTwZO.js">
    <link rel="modulepreload" crossorigin href="./assets/download-ptuQ0M1w.js">
    <link rel="modulepreload" crossorigin href="./assets/globe-mi3m-i9B.js">
    <link rel="modulepreload" crossorigin href="./assets/send-CTRovYct.js">
    <link rel="modulepreload" crossorigin href="./assets/refresh-cw-Duwwh0cP.js">
    <link rel="modulepreload" crossorigin href="./assets/settings-p8vTgdrN.js">
    <link rel="modulepreload" crossorigin href="./assets/bundle.esm-BEDtDq85.js">
    <link rel="stylesheet" crossorigin href="./assets/cells-BvrC6Bsv.css">
    <link rel="stylesheet" crossorigin href="./assets/Output-j3zW187k.css">
    <link rel="stylesheet" crossorigin href="./assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin href="./assets/index-BmcO-QYJ.css">
  <marimo-wasm hidden=""></marimo-wasm>
    <script>
        if (window.location.protocol === 'file:') {
            alert('Warning: This file must be served by an HTTP server to function correctly.');
        }
    </script>
    
    <style>
        #save-button {
            display: none !important;
        }
        #filename-input {
            display: none !important;
        }
    </style>
    <marimo-code hidden="">import%20marimo%0A%0A__generated_with%20%3D%20%220.17.7%22%0Aapp%20%3D%20marimo.App()%0A%0Awith%20app.setup(hide_code%3DTrue)%3A%0A%0A%20%20%20%20import%20types%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20from%20matplotlib%20import%20pyplot%20as%20plt%20%20%20%20%0A%20%20%20%20%23%20Set%20plot%20parameters%0A%20%20%20%20plt.rcParams.update(plt.rcParamsDefault)%0A%20%20%20%20plt.rcParams.update(%7B'font.size'%3A%2012%7D)%0A%0A%20%20%20%20settings%20%3D%20types.SimpleNamespace()%0A%0A%20%20%20%20_fluid_dict%20%3D%20%7B'air'%3A%20%7B'Cp'%3A%201006%2C%20'MolarMass'%3A%200.02897%2C%20'k'%3A%201.4%2C%20'viscosity'%3A%201.788e-05%7D%2C%20'h2'%3A%20%7B'Cp'%3A%2014403%2C%20'MolarMass'%3A%200.00201568%2C%20'k'%3A%201.41%2C%20'viscosity'%3A%208.8e-06%7D%2C%20'R134a'%3A%20%7B'Cp'%3A%20821%2C%20'MolarMass'%3A%200.10203%2C%20'k'%3A%201.13%2C%20'viscosity'%3A%201.08e-05%7D%7D%0A%0A%20%20%20%20_compr_dict%20%3D%20%7B'japikse'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%209.435%2C%20'P00'%3A%20304748.27%2C%20'T00'%3A%20277.594%2C%20'Cm1i_min'%3A%201%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%200.5%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.02%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%20900000000.0%2C%20'lambda2'%3A%203.503%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.9%2C%20'AR'%3A%202.5%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.003%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%207%2C%20'x'%3A%200%2C%20'kBL'%3A%200.6%2C%20'kSF'%3A%207.0%2C%20'Cf'%3A%200.0055%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-60%2C%20'beta2Bmin'%3A%20-40%2C%20'bladeMin'%3A%202%2C%20'bladeMax'%3A%2030%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%203%2C%20'Ndes'%3A%2018200%2C%20'rhDivr1'%3A%200.35%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-45%2C%20'bladeNumber'%3A%2016%2C%20'N_off_design_arr'%3A%20%5B18200%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.1%2C%200.7%5D%2C%20'constant_eff_lines'%3A%20%5B0.71%2C%200.73%2C%200.75%2C%200.77%2C%200.78%2C%200.81%5D%7D%7D%2C%20'lowe'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%200.087%2C%20'P00'%3A%20101300.0%2C%20'T00'%3A%20293%2C%20'Cm1i_min'%3A%2010%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%201%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.04%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%20900000000.0%2C%20'lambda2'%3A%202%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.85%2C%20'AR'%3A%202.5%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.002%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%200%2C%20'x'%3A%2010%2C%20'kBL'%3A%200.6%2C%20'kSF'%3A%207.0%2C%20'Cf'%3A%200.01%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-50%2C%20'beta2Bmin'%3A%200%2C%20'bladeMin'%3A%202%2C%20'bladeMax'%3A%2030%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%201.625%2C%20'Ndes'%3A%20120000%2C%20'rh'%3A%200.00575%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-40%2C%20'bladeNumber'%3A%2012%2C%20'N_off_design_arr'%3A%20%5B120000%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.1%2C%200.7%5D%2C%20'constant_eff_lines'%3A%20%5B0.71%2C%200.73%2C%200.75%2C%200.77%2C%200.78%2C%200.81%5D%7D%7D%2C%20'LUT'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%201.8%2C%20'P00'%3A%2096000%2C%20'T00'%3A%20300%2C%20'Cm1i_min'%3A%201%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%201%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.04%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%20900000000.0%2C%20'lambda2'%3A%202.25%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.85%2C%20'AR'%3A%201.69%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.003%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%207%2C%20'x'%3A%200%2C%20'kBL'%3A%200.6%2C%20'kSF'%3A%207.0%2C%20'Cf'%3A%200.006%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-40%2C%20'beta2Bmin'%3A%20-1%2C%20'bladeMin'%3A%2010%2C%20'bladeMax'%3A%2020%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%202.36%2C%20'Ndes'%3A%2027720%2C%20'rhDivr1'%3A%200.3002%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-40%2C%20'bladeNumber'%3A%2018%2C%20'N_off_design_arr'%3A%20%5B28920%2C%2027720%2C%2024960%2C%2021840%2C%2019380%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.02%2C%200.55%2C%200.02%2C%200.52%2C%200.02%2C%200.46%2C%200.02%2C%200.41%2C%200.02%2C%200.37%5D%2C%20'constant_eff_lines'%3A%20%5B0.71%2C%200.73%2C%200.75%2C%200.77%2C%200.78%2C%200.81%5D%7D%7D%2C%20'NASA'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%200.7%2C%20'P00'%3A%20101325.0%2C%20'T00'%3A%20288.15%2C%20'Cm1i_min'%3A%201%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%201%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.04%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%201200000000.0%2C%20'lambda2'%3A%202%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.85%2C%20'AR'%3A%202.75%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.002%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%207%2C%20'x'%3A%200%2C%20'kBL'%3A%200.6%2C%20'kSF'%3A%207.0%2C%20'Cf'%3A%200.004%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-25%2C%20'beta2Bmin'%3A%20-20%2C%20'bladeMin'%3A%2030%2C%20'bladeMax'%3A%2035%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%206.5%2C%20'Ndes'%3A%2072000%2C%20'rhDivr1'%3A%200.5313%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-25%2C%20'bladeNumber'%3A%2032%2C%20'N_off_design_arr'%3A%20%5B72000%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.1%2C%200.51%5D%2C%20'constant_eff_lines'%3A%20%5B0.71%2C%200.73%2C%200.75%2C%200.77%2C%200.78%2C%200.81%5D%7D%7D%2C%20'NREC'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%202.77%2C%20'P00'%3A%202510000.0%2C%20'T00'%3A%20310.95%2C%20'Cm1i_min'%3A%201%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%201%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.04%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%20900000000.0%2C%20'lambda2'%3A%202.25%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.85%2C%20'AR'%3A%201.9%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.003%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%207%2C%20'x'%3A%200%2C%20'kBL'%3A%200.75%2C%20'kSF'%3A%205.6%2C%20'Cf'%3A%200.006%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-5%2C%20'beta2Bmin'%3A%200%2C%20'bladeMin'%3A%2030%2C%20'bladeMax'%3A%2035%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%201.263%2C%20'Ndes'%3A%2059241%2C%20'rh'%3A%200.0243%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-2%2C%20'bladeNumber'%3A%2032%2C%20'N_off_design_arr'%3A%20%5B59241%2C%2050000%2C%2040000%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.01%2C%200.33%2C%200.01%2C%200.31%2C%200.01%2C%200.29%5D%2C%20'constant_eff_lines'%3A%20%5B0.78%2C%200.8%2C%200.82%2C%200.84%2C%200.86%5D%7D%7D%2C%20'default'%3A%20%7B'inlet_conditions'%3A%20%7B'mdot'%3A%2025%2C%20'P00'%3A%203000000.0%2C%20'T00'%3A%20293%2C%20'Cm1i_min'%3A%2010%2C%20'Cm1i_max'%3A%20600.5%2C%20'Cm1i_step'%3A%201%2C%20'alpha1'%3A%200%2C%20'B1'%3A%200.04%7D%2C%20'impeller_properties'%3A%20%7B'impellerDensity'%3A%201540%2C%20'impellerTensileStrength'%3A%20900000000.0%2C%20'lambda2'%3A%202%2C%20'eta_rotor'%3A%200.9%7D%2C%20'diffuser_properties'%3A%20%7B'etad'%3A%200.85%2C%20'AR'%3A%202.5%7D%2C%20'off_design_parameters_unknown'%3A%20%7B'No'%3A%201.0%2C%20'tu'%3A%200.002%2C%20'curvet1'%3A%200%2C%20'curveh1'%3A%200%2C%20'x'%3A%2010%2C%20'kBL'%3A%200.6%2C%20'kSF'%3A%207.0%2C%20'Cf'%3A%200.01%7D%2C%20'iteration_parameters'%3A%20%7B'beta2Bmax'%3A%20-50%2C%20'beta2Bmin'%3A%200%2C%20'bladeMin'%3A%202%2C%20'bladeMax'%3A%2030%7D%2C%20'parameters_to_vary'%3A%20%7B'Pr'%3A%201.24%2C%20'Ndes'%3A%2040000%2C%20'rhDivr1'%3A%200.35%7D%2C%20'off_design_parameters'%3A%20%7B'bladeAngle'%3A%20-35%2C%20'bladeNumber'%3A%2030%2C%20'N_off_design_arr'%3A%20%5B40000%5D%2C%20'V0DivVcr_off_design_arr'%3A%20%5B0.1%2C%200.7%5D%2C%20'constant_eff_lines'%3A%20%5B0.71%2C%200.73%2C%200.75%2C%200.77%2C%200.78%2C%200.81%5D%7D%7D%7D%0A%0A%20%20%20%20_csv_LUT_data%20%3D%20%7B'mass_flow_323'%3A%20%7B0%3A%200.75505%2C%201%3A%200.89191%2C%202%3A%201.021%2C%203%3A%201.1423%2C%204%3A%201.24184%2C%205%3A%201.36003%2C%206%3A%201.47667%2C%207%3A%201.62286%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'pressure_ration_323'%3A%20%7B0%3A%201.6289%2C%201%3A%201.60793%2C%202%3A%201.59321%2C%203%3A%201.55975%2C%204%3A%201.54298%2C%205%3A%201.49494%2C%206%3A%201.45732%2C%207%3A%201.40925%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'mass_flow_364'%3A%20%7B0%3A%200.81415%2C%201%3A%200.93701%2C%202%3A%201.05832%2C%203%3A%201.17652%2C%204%3A%201.2465%2C%205%3A%201.3196%2C%206%3A%201.42379%2C%207%3A%201.53733%2C%208%3A%201.6804%2C%209%3A%201.79082%2C%2010%3A%201.90124%7D%2C%20'pressure_ration_364'%3A%20%7B0%3A%201.81842%2C%201%3A%201.81413%2C%202%3A%201.80359%2C%203%3A%201.78888%2C%204%3A%201.78047%2C%205%3A%201.75956%2C%206%3A%201.72404%2C%207%3A%201.68225%2C%208%3A%201.62377%2C%209%3A%201.57157%2C%2010%3A%201.52771%7D%2C%20'mass_flow_416'%3A%20%7B0%3A%201.11897%2C%201%3A%201.28072%2C%202%3A%201.40047%2C%203%3A%201.56687%2C%204%3A%201.72706%2C%205%3A%201.84526%2C%206%3A%201.95568%2C%207%3A%202.05832%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'pressure_ration_416'%3A%20%7B0%3A%202.14102%2C%201%3A%202.1096%2C%202%3A%202.08656%2C%203%3A%202.03222%2C%204%3A%201.97997%2C%205%3A%201.91735%2C%206%3A%201.85682%2C%207%3A%201.80671%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'mass_flow_462'%3A%20%7B0%3A%201.24495%2C%201%3A%201.42691%2C%202%3A%201.57154%2C%203%3A%201.73639%2C%204%3A%201.87636%2C%205%3A%202.0521%2C%206%3A%202.17652%2C%207%3A%202.2465%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'pressure_ration_462'%3A%20%7B0%3A%202.47839%2C%201%3A%202.46362%2C%202%3A%202.43222%2C%203%3A%202.3758%2C%204%3A%202.32982%2C%205%3A%202.24838%2C%206%3A%202.16284%2C%207%3A%202.12318%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'mass_flow_482'%3A%20%7B0%3A%201.53888%2C%201%3A%201.74883%2C%202%3A%202.01944%2C%203%3A%202.19984%2C%204%3A%202.37403%2C%205%3A%20np.nan%2C%206%3A%20np.nan%2C%207%3A%20np.nan%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%2C%20'pressure_ration_482'%3A%20%7B0%3A%202.64892%2C%201%3A%202.60495%2C%202%3A%202.50258%2C%203%3A%202.35656%2C%204%3A%202.22305%2C%205%3A%20np.nan%2C%206%3A%20np.nan%2C%207%3A%20np.nan%2C%208%3A%20np.nan%2C%209%3A%20np.nan%2C%2010%3A%20np.nan%7D%7D%0A%0A%20%20%20%20class%20_Fluid%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Class%20with%20fluid%20properties%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20fluid_name)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.fluid_properties%20%3D%20_fluid_dict%5Bfluid_name%5D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.name%20%3D%20fluid_name%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Cp%20%3D%20self.fluid_properties%5B'Cp'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.MolarMass%20%3D%20self.fluid_properties%5B'MolarMass'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.k%20%3D%20self.fluid_properties%5B'k'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.viscosity%20%3D%20self.fluid_properties%5B'viscosity'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.R%20%3D%208.314%20%2F%20self.MolarMass%0A%0A%0A%20%20%20%20class%20_InletConditions%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Class%20with%20inlet%20conditions%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20fluid_instance%2C%20compressor_name)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.inlet_conditions%20%3D%20_compr_dict%5Bcompressor_name%5D%5B'inlet_conditions'%5D%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.mdot%20%3D%20self.inlet_conditions%5B'mdot'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.P00%20%3D%20self.inlet_conditions%5B'P00'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.T00%20%3D%20self.inlet_conditions%5B'T00'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.alpha1%20%3D%20self.inlet_conditions%5B'alpha1'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.B1%20%3D%20self.inlet_conditions%5B'B1'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.rho0%20%3D%20self.P00%20%2F%20(fluid_instance.R%20*%20self.T00)%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20If%20optimizing%20inducer%20geometry%20by%20varying%20r1%2C%20rh%20and%20r2%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20'Cm1i_min'%20in%20self.inlet_conditions%20and%20'Cm1i_max'%20in%20self.inlet_conditions%20and%20'Cm1i_step'%20in%20self.inlet_conditions%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.Cm1i%20%3D%20np.arange(self.inlet_conditions%5B'Cm1i_min'%5D%2C%20self.inlet_conditions%5B'Cm1i_max'%5D%2C%20self.inlet_conditions%5B'Cm1i_step'%5D)%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.T00i%20%3D%20np.full(len(self.Cm1i)%2C%20self.T00)%0A%0A%20%20%20%20class%20_Compressor%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Class%20with%20compressor%20properties%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20fluid_instance%2C%20inlet_conditions_instance%2C%20compressor_name)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.name%20%3D%20compressor_name%0A%20%20%20%20%20%20%20%20%20%20%20%20self.compressor%20%3D%20_compr_dict%5Bcompressor_name%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.impeller_properties%20%3D%20self.compressor%5B'impeller_properties'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.impellerDensity%20%3D%20self.impeller_properties%5B'impellerDensity'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.impellerTensileStrength%20%3D%20self.impeller_properties%5B'impellerTensileStrength'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Calculating%20critical%20property%20of%20a%20rotating%20disk%20to%20use%20as%20constraint%20for%20RPM%2C%20rotational%20velocity%20or%20radius.%20Disk%20will%20break%20at%20outermost%20point%2C%20therefore%20r2%20and%20U2.%0A%20%20%20%20%20%20%20%20%20%20%20%20self.U2Crit%20%3D%20np.sqrt(2%20*%20self.impellerTensileStrength%20%2F%20self.impellerDensity)%20%20%20%20%20%20%20%20%20%20%23%20Applying%20tensile%20strength%20of%20disk.%20Titanium%20used.%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20parameters%0A%20%20%20%20%20%20%20%20%20%20%20%20self.W1ti%20%3D%20None%20%20%20%20%23%20Inducer%20relative%20velocities%20%5Bm%2Fs%5D%20found%20for%20each%20Cm1%0A%20%20%20%20%20%20%20%20%20%20%20%20self.r1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20tip%20radius%20%5Bm%5D%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Ctheta1%20%3D%20None%20%23%20Inducer%20angular%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.C1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.T1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20temperature%20%5BK%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.M1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20Mach%20number%20%5B-%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.P1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20pressure%20%5BPa%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.rho1%20%3D%20None%20%20%20%20%23%20Inducer%20density%20%5Bkg%2Fm3%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.A1%20%3D%20None%20%20%20%20%20%20%23%20Inducer%20area%20%5Bm2%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.U1t%20%3D%20None%20%20%20%20%20%23%20Inducer%20tip%20speed%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Cm1%20%3D%20None%20%20%20%20%20%23%20Inducer%20meridional%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.beta1%20%3D%20None%20%20%20%23%20Inducer%20relative%20velocity%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.W1t%20%3D%20None%20%20%20%20%20%23%20Inducer%20relative%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.omega%20%3D%20None%20%20%20%23%20Angular%20velocity%20%5Brad%2Fs%5D%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.rh1%20%3D%20None%20%20%20%20%20%23%20Hub%20radius%20%5Bm%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Impeller%0A%20%20%20%20%20%20%20%20%20%20%20%20self.r2%20%3D%20None%20%20%20%20%20%20%23%20Impeller%20tip%20radius%20%5Bm%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.D2%20%3D%20None%20%20%20%20%20%20%23%20Impeller%20tip%20diameter%20%5Bm%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.U2%20%3D%20None%20%20%20%20%20%20%23%20Impeller%20tip%20speed%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Ncrit%20%3D%20None%20%20%20%23%20Critical%20rotational%20speed%20%5Brpm%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Impeller%20exit%20flow%20parameters%0A%20%20%20%20%20%20%20%20%20%20%20%20self.lambda2%20%3D%20self.impeller_properties%5B'lambda2'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.eta_rotor%20%3D%20self.impeller_properties%5B'eta_rotor'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.diffuser_properties%20%3D%20self.compressor%5B'diffuser_properties'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.etad%20%3D%20self.diffuser_properties%5B'etad'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.AR%20%3D%20self.diffuser_properties%5B'AR'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.off_design_parameters_unknown%20%3D%20self.compressor%5B'off_design_parameters_unknown'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.No%20%3D%20self.off_design_parameters_unknown%5B'No'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20speed%20percentage%20that%20requires%20performance%20prediction%20%5Brpm%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.tu%20%3D%20self.off_design_parameters_unknown%5B'tu'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20thickness%20%5Bm%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.curvet1%20%3D%20self.off_design_parameters_unknown%5B'curvet1'%5D%20%20%20%20%20%20%20%20%23%20Inducer%20inlet%20tip%20wall%20curvature%20%5Bm%5E-1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.curveh1%20%3D%20self.off_design_parameters_unknown%5B'curveh1'%5D%20%20%20%20%20%20%20%20%23%20Inducer%20inlet%20hub%20wall%20curvature%20%5Bm%5E-1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.x%20%3D%20self.off_design_parameters_unknown%5B'x'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Streamline%20angle%20%5Bdegrees%5D%20from%20axial%20direction%0A%20%20%20%20%20%20%20%20%20%20%20%20self.kBL%20%3D%20self.off_design_parameters_unknown%5B'kBL'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blading%20loss%20coefficient%20%5B-%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.kSF%20%3D%20self.off_design_parameters_unknown%5B'kSF'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Skin%20friction%20coefficient%20%5B-%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Cf%20%3D%20self.off_design_parameters_unknown%5B'Cf'%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Friction%20coefficient%20%5B-%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.iteration_parameters%20%3D%20self.compressor%5B'iteration_parameters'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.beta2Bmax%20%3D%20self.iteration_parameters%5B'beta2Bmax'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.beta2Bmin%20%3D%20self.iteration_parameters%5B'beta2Bmin'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.bladeMin%20%3D%20self.iteration_parameters%5B'bladeMin'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.bladeMax%20%3D%20self.iteration_parameters%5B'bladeMax'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.parameters_to_vary%20%3D%20self.compressor%5B'parameters_to_vary'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Pr%20%3D%20self.parameters_to_vary%5B'Pr'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Ndes%20%3D%20self.parameters_to_vary%5B'Ndes'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20If%20optimizing%20inducer%20geometry%20by%20varying%20r1%2C%20rh%20and%20r2%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20'rh'%20in%20self.parameters_to_vary%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.rh%20%3D%20self.parameters_to_vary%5B'rh'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.optimize_rh_and_r1%20%3D%20False%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.rhDivr1%20%3D%20self.parameters_to_vary%5B'rhDivr1'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.optimize_rh_and_r1%20%3D%20True%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.off_design_parameters%20%3D%20self.compressor%5B'off_design_parameters'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.bladeAngle%20%3D%20np.deg2rad(self.off_design_parameters%5B'bladeAngle'%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20self.bladeNumber%20%3D%20self.off_design_parameters%5B'bladeNumber'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.N_off_design_arr%20%3D%20self.off_design_parameters%5B'N_off_design_arr'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.V0DivVcr_off_design_arr%20%3D%20self.off_design_parameters%5B'V0DivVcr_off_design_arr'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.constant_eff_lines%20%3D%20self.off_design_parameters%5B'constant_eff_lines'%5D%0A%0A%0A%20%20%20%20class%20_IterationMatrix%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Class%20with%20iteration%20matrices%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20compressor_instance)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.ZB%20%3D%20np.arange(compressor_instance.bladeMin%2C%20compressor_instance.bladeMax%20%2B%201%2C%201)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Array%20with%20increasing%20blade%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20self.beta2B%20%3D%20np.radians(np.arange(compressor_instance.beta2Bmax%2C%20compressor_instance.beta2Bmin%20%2B%201%2C%201))%20%20%20%20%20%20%20%20%23%20Array%20with%20decreasing%20(absolute)%20blade%20angle%20%5Brad%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20beta2B_flipped%20%3D%20self.beta2B%5B%3A%2C%20np.newaxis%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Flipping%20from%20row%20to%20column%20vector%20to%20make%20matrix%20on%20next%20lines%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Making%20matrices%20for%20iteration%0A%20%20%20%20%20%20%20%20%20%20%20%20self.rhsExpLimit%20%3D%20np.exp(-%208.16%20*%20np.cos(beta2B_flipped)%20%2F%20self.ZB)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20epsilon_limit%20from%20Eiesner%20condition%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.sigmaWiesner%20%3D%201%20-%20(np.sqrt(np.cos(np.radians(beta2B_flipped)))%20%2F%20(self.ZB%20**%200.7))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20Wiesner%20slip%20factor%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.eta%20%3D%20np.array(%5B%5Bnp.nan%20for%20_%20in%20range(np.shape(self.rhsExpLimit)%5B1%5D)%5D%20for%20_%20in%20range(np.shape(self.rhsExpLimit)%5B0%5D)%5D)%20%20%20%20%20%23%20Matrix%20for%20efficiency%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Pr%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20pressure%20estimate%0A%20%20%20%20%20%20%20%20%20%20%20%20self.r2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20impeller%20tip%20radius%0A%20%20%20%20%20%20%20%20%20%20%20%20self.b2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20impeller%20exit%20cylinder%20height%0A%20%20%20%20%20%20%20%20%20%20%20%20self.U2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20impeller%20rotational%20speed%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Wx%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20compression%20work%0A%20%20%20%20%20%20%20%20%20%20%20%20self.P02m%20%3D%20np.copy(self.eta)%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.P2m%20%3D%20np.copy(self.eta)%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.p5%20%3D%20np.copy(self.eta)%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.T02m%20%3D%20np.copy(self.eta)%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.T2m%20%3D%20np.copy(self.eta)%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.M2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20impeller%20mach%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20self.c2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20impeller%20absolute%20discharge%20velocity%0A%20%20%20%20%20%20%20%20%20%20%20%20self.cm2m%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20meridional%20component%20of%20impeller%20discharge%20velocity%0A%20%20%20%20%20%20%20%20%20%20%20%20self.Ctheta2%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.sigma%20%3D%20np.copy(self.eta)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Matrix%20for%20slip%20factor%20found%20to%20be%20valid%0A%0A%20%20%20%20settings.Fluid%20%3D%20_Fluid%0A%20%20%20%20settings.InletConditions%20%3D%20_InletConditions%0A%20%20%20%20settings.Compressor%20%3D%20_Compressor%0A%20%20%20%20settings.IterationMatrix%20%3D%20_IterationMatrix%0A%0A%20%20%20%20def%20inducer_optimization(N%2C%20Fluid%2C%20InletConditions%2C%20Compressor)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Optimize%20inducer%20by%20minimizing%20relative%20velocity%20at%20inducer%20exit%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20%23%20Make%20arrays%20for%20all%20possible%20values%20of%20inlet%20speed%20Cm1%0A%20%20%20%20%20%20%20%20Ctheta1i%20%3D%20InletConditions.Cm1i%20*%20np.tan(np.radians(InletConditions.alpha1))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20absolute%20tangential%20velocity%20%5Bdegrees%5D%20%20%20%20%20%20%20%20Trigonometry%0A%20%20%20%20%20%20%20%20C1i%20%3D%20(Ctheta1i%20**%202%20%2B%20InletConditions.Cm1i%20**%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20absolute%20velocity%20C1%20%5Bm%2Fs%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Pythagoras%20theorem%20from%20velocity%20triangle%20%0A%20%20%20%20%20%20%20%20T1i%20%3D%20InletConditions.T00i%20-%20(C1i%20**%202)%20%2F%20(2%20*%20Fluid.Cp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20temperature%20%5BK%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Stagnation%20temperature%20relation%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20M1i%20%3D%20C1i%20%2F%20((Fluid.k%20*%20Fluid.R%20*%20T1i)%20**%200.5)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20Mach%20number%20%5B-%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20By%20definition%0A%20%20%20%20%20%20%20%20P1i%20%3D%20InletConditions.P00%20*%20(T1i%20%2F%20InletConditions.T00)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%20%20%20%23%20Inducer%20pressure%20%5BPa%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Isentropic%20relation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20rho1i%20%3D%20P1i%20%2F%20(Fluid.R%20*%20T1i)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20density%20%20%5Bkg%2Fm%5E3%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Assuming%20ideal%20gas%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20A1i%20%3D%20InletConditions.mdot%20%2F%20(rho1i%20*%20InletConditions.Cm1i%20*%20(1%20-%20InletConditions.B1))%20%20%20%20%20%20%23%20Inducer%20flow%20area%20%5Bm%5E2%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Continuity%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20Compressor.optimize_rh_and_r1%3A%20%20%20%20%20%20%20%20%23%20If%20rh%2Fr1%20is%20given%0A%20%20%20%20%20%20%20%20%20%20%20%20rt1i%20%3D%20(A1i%20%2F%20(np.pi%20*%20(1%20-%20Compressor.rhDivr1%20**%202)))%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20tip%20radius%20%5Bm%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Geometry%0A%20%20%20%20%20%20%20%20else%3A%20%20%20%23%20If%20rh%20is%20given%20and%20not%20rh%2Fr1%0A%20%20%20%20%20%20%20%20%20%20%20%20rt1i%20%3D%20(A1i%20%2F%20np.pi%20%2B%20Compressor.rh%20**%202)%20**%200.5%0A%20%20%20%20%20%20%20%20U1ti%20%3D%202%20*%20np.pi%20*%20rt1i%20*%20N%20%2F%2060%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20blade%20tip%20speed%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20W1ti%20%3D%20(InletConditions.Cm1i%20**%202%20%2B%20(U1ti%20-%20Ctheta1i)%20**%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20relative%20velocity%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20Compressor.W1ti%20%3D%20W1ti%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Store%20relative%20velocities%20for%20plotting%0A%0A%20%20%20%20%20%20%20%20%23%20Get%20the%20index%20of%20the%20minimum%20relative%20velocity%0A%20%20%20%20%20%20%20%20w1ti_index_min%20%3D%20np.argmin(W1ti)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Index%20of%20smallest%20relative%20velocity%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20inducer%20properties%20to%20the%20values%20that%20minimize%20the%20relative%20velocity%0A%20%20%20%20%20%20%20%20Compressor.r1%20%3D%20rt1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20tip%20radius%20%5Bm%5D%0A%20%20%20%20%20%20%20%20if%20Compressor.optimize_rh_and_r1%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.rh%20%3D%20Compressor.rhDivr1%20*%20Compressor.r1%0A%20%20%20%20%20%20%20%20Compressor.Ctheta1%20%3D%20Ctheta1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20angular%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Compressor.C1%20%3D%20C1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Compressor.T1%20%3D%20T1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20temperature%20%5BK%5D%0A%20%20%20%20%20%20%20%20Compressor.M1%20%3D%20M1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20Mach%20number%20%5B-%5D%0A%20%20%20%20%20%20%20%20Compressor.P1%20%3D%20P1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20pressure%20%5BPa%5D%0A%20%20%20%20%20%20%20%20Compressor.rho1%20%3D%20rho1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20density%20%5Bkg%2Fm3%5D%0A%20%20%20%20%20%20%20%20Compressor.A1%20%3D%20A1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20flow%20area%20%5Bm2%5D%0A%20%20%20%20%20%20%20%20Compressor.U1t%20%3D%20U1ti%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20tip%20speed%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Compressor.Cm1%20%3D%20InletConditions.Cm1i%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20meridional%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Compressor.beta1%20%3D%20np.degrees(np.arctan((Compressor.U1t%20-%20Compressor.Ctheta1)%20%2F%20Compressor.Cm1))%20%20%20%20%23%20Inducer%20relative%20velocity%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20Compressor.W1t%20%3D%20W1ti%5Bw1ti_index_min%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inducer%20relative%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Compressor.omega%20%3D%20Compressor.U1t%20%2F%20Compressor.r1%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Angular%20velocity%20%5Brad%2Fs%5D%20%20%20%0A%0A%0A%20%20%20%20def%20impeller_optimization(Compressor%2C%20InletConditions%2C%20Fluid%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20For%20all%20combinations%20of%20blade%20number%20and%20blade%20angle%2C%20optimize%20impeller%20dimensions%20and%20obtain%20pressure%20ratio%20for%20a%20given%20rotor%20efficiency%2C%20diffuser%20area%20ratio%20and%20diffuser%20efficiency%20%22%22%22%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20for%20iz%20in%20range(len(IterationMatrix.ZB))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20ib%20in%20range(len(IterationMatrix.beta2B))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23blade_number%20%3D%20IterationMatrix.ZB%5Biz%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23blade_angle%20%3D%20np.rad2deg(IterationMatrix.beta2B%5Bib%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23print('%5CnBlade%20number%20%3D'%2C%20blade_number%2C%20'Blade%20angle%20%3D'%2C%20blade_angle)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sigma%20%3D%20IterationMatrix.sigmaWiesner%5Bib%2C%20iz%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Slip%20factor%20for%20current%20blade%20number%20and%20blade%20angle%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20etaStage%20%3D%200.9%20%20%20%20%20%20%23%20Initial%20guess%20for%20stage%20efficiency%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Pr_stage%20%3D%200%20%20%20%20%20%20%20%20%23%20Initial%20value%20of%20stage%20pressure%20ratio%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eps%20%3D%200.0001%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20abs(Pr_stage%20%2F%20Compressor.Pr%20-%201)%20%3E%20eps%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dh0s%20%3D%20((Fluid.k%20*%20Fluid.R%20*%20InletConditions.T00)%20%2F%20(Fluid.k%20-%201))%20*%20(Compressor.Pr%20**%20((Fluid.k%20-%201)%20%2F%20Fluid.k)%20-%201)%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Wx%20%3D%20dh0s%20%2F%20etaStage%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Specific%20work%20%5BJ%2Fkg%2FK%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T02m%20%3D%20InletConditions.T00%20%2B%20Wx%20*%20(Fluid.k%20-%201)%20%2F%20(Fluid.k%20*%20Fluid.R)%20%20%20%20%20%20%20%20%23%20Exit%20stagnation%20temperature%20%5BK%5D%20%20%20%20%20%20%20%20%20%20from%20dh%3Dcp*Dt%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mu%20%3D%20sigma%20*%20Compressor.lambda2%20%2F%20(Compressor.lambda2%20-%20np.tan((IterationMatrix.beta2B%5Bib%5D)))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20U2%20%3D%20((Compressor.U1t%20*%20Compressor.Ctheta1%20%2B%20Wx)%20%2F%20mu)%20**%20(1%20%2F%202)%20%20%20%23%20Impeller%20tip%20velocity%20%5Bm%2Fs%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20work%20input%20coefficient%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20D2%20%3D%2060%20*%20U2%20%2F%20(np.pi%20*%20Compressor.Ndes)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r2%20%3D%20D2%20%2F%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Ctheta2m%20%3D%20mu%20*%20U2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Cm2m%20%3D%20Ctheta2m%20%2F%20Compressor.lambda2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20C2%20%3D%20(Ctheta2m%20**%202%20%2B%20Cm2m%20**%202)%20**%200.5%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T2m%20%3D%20T02m%20-%20(Fluid.k%20-%201)%20%2F%20(2%20*%20Fluid.k%20*%20Fluid.R)%20*%20C2%20**%202%20%20%20%20%20%20%23%20Exit%20static%20temperature%20%5BK%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M2%20%3D%20U2%20%2F%20np.sqrt(Fluid.k%20*%20Fluid.R%20*%20T2m)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Impeller%20exit%20blade%20mach%20number%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20P02m%20%3D%20InletConditions.P00%20*%20((Wx%20*%20Compressor.eta_rotor%20*%20(Fluid.k%20-%201)%20%20%2F%20(Fluid.k%20*%20Fluid.R%20*%20InletConditions.T00))%20%2B%201)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%23%20Exit%20Stagnation%20Pressure%2C%20isentropic%20%5BPa%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2m%20%3D%20P02m%20%2F%20((T02m%20%2F%20T2m)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201)))%20%20%20%20%20%20%20%20%20%20%20%20%23%20Exit%20pressure%20%5BPa%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20stagnation%20pressure%2C%20isentropic%20relation%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho2m%20%3D%20P2m%20%2F%20(T2m%20*%20Fluid.R)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Exit%20density%20%5Bkg%2Fm%5E3%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20ideal%20gas%20law%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20A2m%20%3D%20InletConditions.mdot%20%2F%20(rho2m%20*%20Cm2m)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Exit%20area%20%5Bm%5E2%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20continuity%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2%20%3D%20A2m%20%2F%20(np.pi%20*%20D2)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Impeller%20exit%20cylinder%20height%20%5Bm%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20geometry%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CpDi%20%3D%201%20-%201%20%2F%20Compressor.AR%20**%202%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CpD%20%3D%20Compressor.etad%20*%20CpDi%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20p5%20%3D%20P2m%20%2B%20CpD%20*%20(P02m%20-%20P2m)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20From%20Bernoulli's%20eq.%20for%20a%20vaneless%20diffuser%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20etaStage%20%3D%20((p5%20%2F%20InletConditions.P00)%20**%20((Fluid.k%20-%201)%20%2F%20Fluid.k)%20-%201)%20%2F%20(T02m%20%2F%20InletConditions.T00%20-%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Pr_stage%20%3D%20p5%20%2F%20InletConditions.P00%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r_inlet_rms%20%3D%20np.sqrt(1%20%2F%202%20*%20(Compressor.rh%20**%202%20%2B%20Compressor.r1%20**%202))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20r_inlet_rms%20%2F%20r2%20%3E%20np.exp(-%208.16%20*%20np.cos(IterationMatrix.beta2B%5Bib%5D)%20%2F%20IterationMatrix.ZB%5Biz%5D)%3A%20%20%20%20%20%23%20Add%20correction%20factor%20if%20this%20becomes%20and%20issue.%20Some%20authors%20use%20r1%2Fr2%20for%20LHS%20of%20condition%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Wiesner%20slip%20factor%20correlation%20is%20not%20valid%20for%20the%20radius%20ratio%20r_inlet_rms%20%2F%20r2%20%3D%20%22%20%2B%20str(r_inlet_rms%20%2F%20r2)%20%2B%20'%20%3E%20'%20%2B%20str(np.exp(-%208.16%20*%20np.cos(IterationMatrix.beta2B%5Bib%5D)%20%2F%20IterationMatrix.ZB%5Biz%5D)))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Save%20conditions%20for%20current%20blade%20number%20and%20blade%20angle%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.eta%5Bib%2C%20iz%5D%20%3D%20etaStage%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.Pr%5Bib%2C%20iz%5D%20%3D%20Pr_stage%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.r2%5Bib%2C%20iz%5D%20%3D%20r2%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.b2%5Bib%2C%20iz%5D%20%3D%20b2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.U2%5Bib%2C%20iz%5D%20%3D%20U2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.Wx%5Bib%2C%20iz%5D%20%3D%20Wx%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.P02m%5Bib%2C%20iz%5D%20%3D%20P02m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.P2m%5Bib%2C%20iz%5D%20%3D%20P2m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.p5%5Bib%2C%20iz%5D%20%3D%20p5%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.T02m%5Bib%2C%20iz%5D%20%3D%20T02m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.T2m%5Bib%2C%20iz%5D%20%3D%20T2m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.M2%5Bib%2C%20iz%5D%20%3D%20M2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.c2%5Bib%2C%20iz%5D%20%3D%20C2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.cm2m%5Bib%2C%20iz%5D%20%3D%20Cm2m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.Ctheta2%5Bib%2C%20iz%5D%20%3D%20Ctheta2m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IterationMatrix.sigma%5Bib%2C%20iz%5D%20%3D%20sigma%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Set%20design%20point%20dimensions%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20design_point_blade_angle_index%20%3D%20np.where(IterationMatrix.beta2B%20%3D%3D%20Compressor.bladeAngle)%5B0%5D%5B0%5D%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20design_point_blade_number_index%20%3D%20np.where(IterationMatrix.ZB%20%3D%3D%20Compressor.bladeNumber)%5B0%5D%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.r2%20%3D%20IterationMatrix.r2%5Bdesign_point_blade_angle_index%5D%5Bdesign_point_blade_number_index%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.D2%20%3D%202%20*%20Compressor.r2%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.U2%20%3D%20IterationMatrix.U2%5Bdesign_point_blade_angle_index%5D%5Bdesign_point_blade_number_index%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.b2%20%3D%20IterationMatrix.b2%5Bdesign_point_blade_angle_index%5D%5Bdesign_point_blade_number_index%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.etaStage%20%3D%20IterationMatrix.eta%5Bdesign_point_blade_angle_index%5D%5Bdesign_point_blade_number_index%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.dh0s%20%3D%20dh0s%0A%0A%20%20%20%20%20%20%20%20print('%5CnGeometry%20successfully%20calculated')%20%20%0A%0A%20%20%20%20%20%20%20%20print('%5CnDesign%20point%3A')%0A%20%20%20%20%20%20%20%20print('%5CtRotational%20speed%20%3D%20'%20%2B%20str(round(Compressor.Ndes%2C%202))%20%2B%20'%20rpm'%20)%0A%20%20%20%20%20%20%20%20print('%5Ctrh%20%3D%20'%20%2B%20str(round(Compressor.rh%2C%2010)%20*%201000)%20%2B%20'%20mm'%20)%0A%20%20%20%20%20%20%20%20print('%5Ctr1%20%3D%20'%20%2B%20str(round(Compressor.r1%2C%2010)%20*%201000)%20%2B%20'%20mm')%0A%20%20%20%20%20%20%20%20print('%5Ctr2%20%3D%20'%20%2B%20str(round(Compressor.r2%20%2C%2010)%20*%201000)%20%2B%20'%20mm'%20)%0A%20%20%20%20%20%20%20%20print('%5Ctb2%20%3D%20'%20%2B%20str(round(Compressor.b2%20%2C%2010)%20*%201000)%20%2B%20'%20mm'%20)%20%20%0A%20%20%20%20%20%20%20%20print('%5CtetaStage%20%3D%20'%20%2B%20str(round(Compressor.etaStage%20%2C%2010)))%20%20%0A%0A%0A%20%20%20%20def%20plot_dimensions(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20dimensions%20of%20compressor%20stage%20after%20geometry%20optimization%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20np.rad2deg(IterationMatrix.beta2B)%0A%20%20%20%20%20%20%20%20r1Divr2%20%3D%20Compressor.r1%20%2F%20IterationMatrix.r2%0A%20%20%20%20%20%20%20%20b2%20%3D%20IterationMatrix.b2%0A%0A%20%20%20%20%20%20%20%20%23%20Create%20a%20figure%20with%20two%20subplots%0A%20%20%20%20%20%20%20%20fig%2C%20(ax1%2C%20ax2)%20%3D%20plt.subplots(1%2C%202%2C%20figsize%20%3D%20(12%2C%206))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%201%0A%20%20%20%20%20%20%20%20im1%20%3D%20ax1.imshow(r1Divr2%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax1.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax1.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im1%2C%20ax%20%3D%20ax1%2C%20label%20%3D%20r'%24r_1%2Fr_2%24%20%5B-%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%202%0A%20%20%20%20%20%20%20%20im2%20%3D%20ax2.imshow(b2%20*%201e3%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax2.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax2.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im2%2C%20ax%20%3D%20ax2%2C%20label%20%3D%20r'%24b_2%24%20%5Bmm%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20a%20common%20title%20for%20the%20figure%0A%20%20%20%20%20%20%20%20fig.suptitle('Compressor%20stage%20dimensions%5Cn'%20%2B%20r'%24r_%5Cmathrm%7Bh%7D%20%3D%20%24'%20%2B%20str(round(Compressor.rh%2C%203)%20*%201000)%20%2B%20'%20mm%20%5Cn'%20%2B%20r'%24r_%5Cmathrm%7Bh%7D%2Fr_1%24%20%3D%20'%20%2B%20str(round(Compressor.rh%20%2F%20Compressor.r1%2C%203)))%0A%0A%20%20%20%20%20%20%20%20%23%20Adjust%20the%20spacing%20between%20subplots%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.82%2C%20wspace%20%3D%200.4)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_temperatures(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20temperatures%20of%20compressor%20stage%20after%20geometry%20optimization%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20np.rad2deg(IterationMatrix.beta2B)%20%20%20%20%0A%20%20%20%20%20%20%20%20T02m%20%3D%20IterationMatrix.T02m%20-%20273.15%0A%20%20%20%20%20%20%20%20T2m%20%3D%20IterationMatrix.T2m%20-%20273.15%0A%0A%20%20%20%20%20%20%20%20%23%20Create%20a%20figure%20with%20two%20subplots%0A%20%20%20%20%20%20%20%20fig%2C%20(ax1%2C%20ax2)%20%3D%20plt.subplots(1%2C%202%2C%20figsize%20%3D%20(12%2C%206))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%201%0A%20%20%20%20%20%20%20%20im1%20%3D%20ax1.imshow(T02m%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax1.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax1.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im1%2C%20ax%20%3D%20ax1%2C%20label%20%3D%20r'%24T_%5Cmathrm%7B02m%7D%5C%2C%5C%2C%20%5B%5E%5Ccirc%5Cmathrm%7BC%7D%5D%24')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%202%0A%20%20%20%20%20%20%20%20im2%20%3D%20ax2.imshow(T2m%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax2.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax2.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im2%2C%20ax%20%3D%20ax2%2C%20label%20%3D%20r'%24T_%5Cmathrm%7B2m%7D%5C%2C%5C%2C%20%5B%5E%5Ccirc%5Cmathrm%7BC%7D%5D%24')%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20a%20common%20title%20for%20the%20figure%0A%20%20%20%20%20%20%20%20fig.suptitle('Compressor%20stage%20temperatures%5Cn'%20%2B%20r'%24T_%7B00%7D%20%3D%20%24'%20%2B%20str(round(InletConditions.T00%20-%20273.15%2C%203))%20%2B%20'%5Cn'%20%2B%20r'%24T_1%20%3D%20%24'%20%2B%20str(round(Compressor.T1%20-%20273.15%2C%203)))%0A%0A%20%20%20%20%20%20%20%20%23%20Adjust%20the%20spacing%20between%20subplots%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.82%2C%20wspace%20%3D%200.4)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_efficiency_shaft_work(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20stage%20compressor%20efficiency%20and%20total%20shaft%20work%20after%20geometry%20optimization%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20np.rad2deg(IterationMatrix.beta2B)%20%20%20%0A%20%20%20%20%20%20%20%20etaStage%20%3D%20IterationMatrix.eta%0A%20%20%20%20%20%20%20%20Wx%20%3D%20IterationMatrix.Wx%0A%0A%20%20%20%20%20%20%20%20%23%20Create%20a%20figure%20with%20two%20subplots%0A%20%20%20%20%20%20%20%20fig%2C%20(ax1%2C%20ax2)%20%3D%20plt.subplots(1%2C%202%2C%20figsize%20%3D%20(12%2C%206))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%201%0A%20%20%20%20%20%20%20%20im1%20%3D%20ax1.imshow(etaStage%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax1.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax1.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im1%2C%20ax%20%3D%20ax1%2C%20label%20%3D%20r'Required%20%24%5Ceta_%5Cmathrm%7Bstage%7D%24%20%5B-%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%202%0A%20%20%20%20%20%20%20%20im2%20%3D%20ax2.imshow(Wx%20%2F%201e3%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20ax2.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20ax2.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im2%2C%20ax%20%3D%20ax2%2C%20label%20%3D%20r'%24W_%5Cmathrm%7Bx%7D%24%20%5BkJ%2Fkg%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20a%20common%20title%20for%20the%20figure%0A%20%20%20%20%20%20%20%20fig.suptitle('Compressor%20stage%20efficiency%20and%20shaft%20work%20%5Cn'%20%2B%20r'%24%5Ceta_%5Cmathrm%7Brotor%7D%20%3D%20%24'%20%2B%20str(round(Compressor.eta_rotor%2C%203))%20%2B%20'%5Cn'%20%2B%20r'%24%5CDelta%20h_%5Cmathrm%7B0s%7D%20%3D%20%24'%20%2B%20str(round(Compressor.dh0s%20%2F%201e3%2C%201))%20%2B%20'%20kJ%2Fkg')%0A%0A%20%20%20%20%20%20%20%20%23%20Adjust%20the%20spacing%20between%20subplots%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.82%2C%20wspace%20%3D%200.4)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_pressure(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20stage%20compressor%20pressures%20after%20geometry%20optimization%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20np.rad2deg(IterationMatrix.beta2B)%20%20%0A%20%20%20%20%20%20%20%20P02m%20%3D%20IterationMatrix.P02m%0A%20%20%20%20%20%20%20%20P2m%20%3D%20IterationMatrix.P2m%0A%20%20%20%20%20%20%20%20p5%20%3D%20IterationMatrix.p5%0A%20%20%20%20%20%20%20%20Pr%20%3D%20IterationMatrix.Pr%0A%0A%20%20%20%20%20%20%20%20%23%20Create%20a%20figure%20with%20two%20subplots%0A%20%20%20%20%20%20%20%20fig%2C%20axs%20%3D%20plt.subplots(2%2C%202%2C%20figsize%20%3D%20(10%2C%2010))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%201%0A%20%20%20%20%20%20%20%20im1%20%3D%20axs%5B0%2C%200%5D.imshow(Pr%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D%2C%20vmin%20%3D%201)%0A%20%20%20%20%20%20%20%20axs%5B0%2C%200%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B0%2C%200%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im1%2C%20ax%20%3D%20axs%5B0%2C%200%5D%2C%20label%20%3D%20r'Pr%20%5B-%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%202%0A%20%20%20%20%20%20%20%20im2%20%3D%20axs%5B0%2C%201%5D.imshow(p5%20%2F%201e5%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B0%2C%201%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B0%2C%201%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im2%2C%20ax%20%3D%20axs%5B0%2C%201%5D%2C%20label%20%3D%20r'%24p_5%24%20%5Bbar%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%203%0A%20%20%20%20%20%20%20%20im3%20%3D%20axs%5B1%2C%200%5D.imshow(P02m%20%2F%201e5%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B1%2C%200%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B1%2C%200%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im3%2C%20ax%20%3D%20axs%5B1%2C%200%5D%2C%20label%20%3D%20r'%24p_%5Cmathrm%7B02m%7D%24%20%5Bbar%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%204%0A%20%20%20%20%20%20%20%20im4%20%3D%20axs%5B1%2C%201%5D.imshow(P2m%20%2F%201e5%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B1%2C%201%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B1%2C%201%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im4%2C%20ax%20%3D%20axs%5B1%2C%201%5D%2C%20label%20%3D%20r'%24p_%5Cmathrm%7B2m%7D%24%20%5Bbar%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20a%20common%20title%20for%20the%20figure%0A%20%20%20%20%20%20%20%20fig.suptitle('Compressor%20stage%20pressures%20%5Cn'%20%2B%20r'%24P_%7B00%7D%20%3D%20%24'%20%2B%20str(round(InletConditions.P00%20%2F%201e5%2C%203))%20%2B%20'%20bar')%0A%0A%20%20%20%20%20%20%20%20%23%20Adjust%20the%20spacing%20between%20subplots%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.9%2C%20wspace%20%3D%200.4)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_velocity(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20stage%20compressor%20velocities%20after%20geometry%20optimization%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20np.rad2deg(IterationMatrix.beta2B)%20%20%0A%20%20%20%20%20%20%20%20U2%20%3D%20IterationMatrix.U2%0A%20%20%20%20%20%20%20%20M2%20%3D%20IterationMatrix.M2%0A%20%20%20%20%20%20%20%20C2%20%3D%20IterationMatrix.c2%0A%20%20%20%20%20%20%20%20Cm2m%20%3D%20IterationMatrix.cm2m%0A%0A%20%20%20%20%20%20%20%20%23%20Create%20a%20figure%20with%20two%20subplots%0A%20%20%20%20%20%20%20%20fig%2C%20axs%20%3D%20plt.subplots(2%2C%202%2C%20figsize%20%3D%20(10%2C%2010))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%201%0A%20%20%20%20%20%20%20%20im1%20%3D%20axs%5B0%2C%200%5D.imshow(U2%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B0%2C%200%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B0%2C%200%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im1%2C%20ax%20%3D%20axs%5B0%2C%200%5D%2C%20label%20%3D%20r'%24U_2%24%20%5Bm%2Fs%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%202%0A%20%20%20%20%20%20%20%20im2%20%3D%20axs%5B0%2C%201%5D.imshow(M2%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B0%2C%201%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B0%2C%201%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im2%2C%20ax%20%3D%20axs%5B0%2C%201%5D%2C%20label%20%3D%20r'%24M_2%24%20%5B-%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%203%0A%20%20%20%20%20%20%20%20im3%20%3D%20axs%5B1%2C%200%5D.imshow(Cm2m%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B1%2C%200%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B1%2C%200%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im3%2C%20ax%20%3D%20axs%5B1%2C%200%5D%2C%20label%20%3D%20r'%24C_%5Cmathrm%7Bm2m%7D%24%20%5Bm%2Fs%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%204%0A%20%20%20%20%20%20%20%20im4%20%3D%20axs%5B1%2C%201%5D.imshow(C2%2C%20aspect%20%3D%20'auto'%2C%20extent%20%3D%20%5BZB.min()%2C%20ZB.max()%2C%20beta2B.max()%2C%20beta2B.min()%5D)%0A%20%20%20%20%20%20%20%20axs%5B1%2C%201%5D.set_xlabel(r'%24Z_%5Cmathrm%7BB%7D%24%20%5B-%5D')%0A%20%20%20%20%20%20%20%20axs%5B1%2C%201%5D.set_ylabel(r'%24%5Cbeta_%5Cmathrm%7B2B%7D%24%20%5Bdeg%5D')%0A%20%20%20%20%20%20%20%20fig.colorbar(im4%2C%20ax%20%3D%20axs%5B1%2C%201%5D%2C%20label%20%3D%20r'%24C_2%24%20%5Bm%2Fs%5D')%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20a%20common%20title%20for%20the%20figure%0A%20%20%20%20%20%20%20%20fig.suptitle('Compressor%20stage%20velocities%20%5Cn'%20%2B%20r'%24C_%5Cmathrm%7Bm1%7D%20%3D%20%24'%20%2B%20str(round(Compressor.Cm1%2C%203))%20%2B%20'%20m%2Fs%20%5Cn'%20%2B%20r'%24U_%5Cmathrm%7B1t%7D%20%3D%20%24'%20%2B%20str(round(Compressor.U1t%2C%203))%20%2B%20'%20m%2Fs')%0A%0A%20%20%20%20%20%20%20%20%23%20Adjust%20the%20spacing%20between%20subplots%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.9%2C%20wspace%20%3D%200.4)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_text(Compressor)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20a%20summary%20of%20some%20important%20design%20point%20conditions%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20%23%20Text%20for%20summarizing%20design%20point%20conditions%0A%20%20%20%20%20%20%20%20text1%20%3D%20r%22%24%5Cbf%7BDesign%5C%2C%5C%2C%20point%3A%7D%24%22%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Pressure%20ratio%20%3D%20%22%20%2B%20str(Compressor.Pr)%20%2B%20%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Rotational%20speed%20%3D%20%22%20%2B%20str(round(Compressor.Ndes%2C%201))%20%2B%20%22%20rpm%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Blade%20number%20%3D%20%22%20%2B%20str(Compressor.bladeNumber)%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Blade%20angle%20%3D%20%22%20%2B%20str(np.rad2deg(Compressor.bladeAngle))%20%2B%20r%22%24%5E%5Ccirc%24%22%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Stage%20efficiency%20%3D%20%22%20%2B%20str(round(Compressor.etaStage%2C%203))%20%2B%20%22%5Cn%22%0A%20%20%20%20%20%20%20%20text2%20%3D%20%22%5Cn%22%20%2B%20r%22%24%5Cbf%7BVelocities%3A%7D%24%22%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24C_%5Cmathrm%7Bm1%7D%20%3D%20%24%22%20%2B%20str(round(Compressor.Cm1%2C%203))%20%2B%20%22%20m%2Fs%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24U_%5Cmathrm%7B1t%7D%20%3D%20%24%22%20%2B%20str(round(Compressor.U1t%2C%203))%20%2B%20%22%20m%2Fs%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24W_%5Cmathrm%7B1t%7D%20%3D%20%24%22%20%2B%20str(round(Compressor.W1t%2C%203))%20%2B%20%22%20m%2Fs%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24M_1%20%3D%20%24%22%20%2B%20str(round(Compressor.M1%2C%203))%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24U_2%20%3D%20%24%22%20%2B%20str(round(Compressor.U2%2C%203))%20%2B%20%22%20m%2Fs%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24U_%5Cmathrm%7B2t%2C%20crit%7D%20%3D%20%24%22%20%2B%20str(round(Compressor.U2Crit%2C%203))%20%2B%20%22%20m%2Fs%20%5Cn%22%0A%20%20%20%20%20%20%20%20text3%20%3D%20%22%5Cn%5Cn%22%20%2B%20r%22%24%5Cbf%7BCompressor%5C%2C%5C%2C%20dimensions%3A%7D%24%22%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24r_%5Cmathrm%7Bh%7D%24%20%3D%20%22%20%2B%20str(round(Compressor.rh%20*%201000%2C%203))%20%2B%20%22%20mm%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24r_%5Cmathrm%7Bt1%7D%24%20%3D%20%22%20%2B%20str(round(Compressor.r1%20*%201000%2C%203))%20%2B%20%22%20mm%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24r_%5Cmathrm%7Bt2%7D%24%20%3D%20%22%20%2B%20str(round(Compressor.r2%20*%201000%2C%203))%20%2B%20%22%20mm%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24b_2%24%20%3D%20%22%20%2B%20str(round(Compressor.b2%20*%201000%2C%203))%20%2B%20%22%20mm%20%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24%5Cfrac%7Br_%5Cmathrm%7Bh%7D%7D%7Br_1%7D%24%20%3D%20%22%20%2B%20str(round(Compressor.rh%20%2F%20Compressor.r1%2C%203))%20%2B%20%22%5Cn%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%24%5Cfrac%7Br_1%7D%7Br_2%7D%24%20%3D%20%22%20%2B%20str(round(Compressor.r1%20%2F%20Compressor.r2%2C%203))%20%2B%20%22%5Cn%22%20%0A%20%20%20%20%20%20%20%20text%20%3D%20%5Btext1%2C%20text2%2C%20text3%5D%20%20%20%20%20%0A%20%20%20%20%20%20%20%20text1%20%3D%20text%5B0%5D%0A%20%20%20%20%20%20%20%20text2%20%3D%20text%5B1%5D%0A%20%20%20%20%20%20%20%20text3%20%3D%20text%5B2%5D%0A%0A%20%20%20%20%20%20%20%20fig%2C%20axs21%20%3D%20plt.subplots(1%2C%203)%0A%20%20%20%20%20%20%20%20fig.set_figwidth(15)%0A%20%20%20%20%20%20%20%20fig.set_figheight(15)%0A%20%20%20%20%20%20%20%20fig.tight_layout(pad%20%3D%207.0)%0A%20%20%20%20%20%20%20%20fig.subplots_adjust(top%20%3D%200.9%2C%20bottom%20%3D%200.09)%0A%20%20%20%20%20%20%20%20fig.canvas.manager.set_window_title('Design%20point%20conditions%20from%20geometry%20optimization')%0A%0A%20%20%20%20%20%20%20%20%23%20Textbox%201%0A%20%20%20%20%20%20%20%20j%20%3D%200%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.axis('off')%20%20%23%20Turn%20off%20the%20axis%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.text(0.0%2C%200.5%2C%20text1%2C%20ha%20%3D%20'left'%2C%20va%20%3D%20'center'%2C%20fontsize%20%3D%2012%2C%20linespacing%20%3D%201.8)%0A%0A%20%20%20%20%20%20%20%20%23%20Textbox%202%0A%20%20%20%20%20%20%20%20j%20%3D%201%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.axis('off')%20%20%23%20Turn%20off%20the%20axis%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.text(0.0%2C%200.5%2C%20text2%2C%20ha%20%3D%20'left'%2C%20va%20%3D%20'center'%2C%20fontsize%20%3D%2012%2C%20linespacing%20%3D%201.8)%0A%0A%20%20%20%20%20%20%20%20%23%20Textbox%203%0A%20%20%20%20%20%20%20%20j%20%3D%202%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.axis('off')%20%20%23%20Turn%20off%20the%20axis%0A%20%20%20%20%20%20%20%20axs21%5Bj%5D.text(0.0%2C%200.5%2C%20text3%2C%20ha%20%3D%20'left'%2C%20va%20%3D%20'center'%2C%20fontsize%20%3D%2012%2C%20linespacing%20%3D%201.8)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_min_relative_velocity(Compressor%2C%20InletConditions)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20relative%20velocity%20as%20a%20function%20of%20inlet%20meridional%20velocity%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20fig%2C%20ax11%20%3D%20plt.subplots()%0A%20%20%20%20%20%20%20%20plt.plot(InletConditions.Cm1i%2C%20Compressor.W1ti)%0A%20%20%20%20%20%20%20%20plt.plot(Compressor.Cm1%2C%20Compressor.W1t%2C%20'ro')%0A%20%20%20%20%20%20%20%20ax11.tick_params(axis%20%3D%20'both'%2C%20which%20%3D%20'major'%2C%20labelsize%20%3D%2010)%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24C_%7B%5Cmathrm%7Bm1%7D%7D%24%20%5Bm%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24W_%7B%5Cmathrm%7B1t%7D%7D%24%20%5Bm%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.title(r'Minimization%20of%20relative%20velocity')%0A%20%20%20%20%20%20%20%20plt.grid()%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%0A%20%20%20%20def%20plot_geometry(Compressor%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20plot_min_relative_velocity(Compressor%2C%20InletConditions)%0A%20%20%20%20%20%20%20%20plot_text(Compressor)%0A%20%20%20%20%20%20%20%20plot_dimensions(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20%20%20%20%20plot_temperatures(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20%20%20%20%20plot_efficiency_shaft_work(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20%20%20%20%20plot_pressure(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20%20%20%20%20plot_velocity(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20%20%20%20%20%23plt.show()%0A%0A%20%20%20%20def%20off_design_performance_rpm(Nrpm%2C%20Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Calculate%20stage%20off-design%20performance%20for%20a%20given%20rotational%20speed.%20To%20obtain%20the%20impeller%20outlet%20density%2C%20two%20functions%20are%20defined%20inside%20this%20function%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20print('Blade%20number%20%3D'%2CCompressor.bladeNumber)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20number%20for%20which%20off-design%20performance%20is%20calculated%20%0A%20%20%20%20%20%20%20%20print('Blade%20angle%20%3D'%2C%20np.rad2deg(Compressor.bladeAngle))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20angle%20for%20which%20off-design%20performance%20is%20calculated%0A%0A%20%20%20%20%20%20%20%20iB%20%3D%20int(np.where(IterationMatrix.beta2B%20%3D%3D%20Compressor.bladeAngle)%5B0%5D)%20%20%20%20%20%20%20%20%20%20%23%20Index%20for%20blade%20angle%0A%20%20%20%20%20%20%20%20iZ%20%3D%20int(np.where(IterationMatrix.ZB%20%3D%3D%20Compressor.bladeNumber)%5B0%5D)%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Index%20for%20blade%20number%0A%20%20%20%20%20%20%20%20beta2B%20%3D%20IterationMatrix.beta2B%5BiB%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20angle%20%0A%20%20%20%20%20%20%20%20ZB%20%3D%20IterationMatrix.ZB%5BiZ%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20number%0A%20%20%20%20%20%20%20%20b2%20%3D%20IterationMatrix.b2%5BiB%5D%5BiZ%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Compressor%20outlet%20height%20%0A%20%20%20%20%20%20%20%20sigma%20%3D%20IterationMatrix.sigma%5BiB%5D%5BiZ%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Slip%20factor%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20if%20np.isnan(b2)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20raise%20Exception(f%22Blade%20number%20and%20blade%20angle%20is%20not%20found%20to%20be%20among%20valid%20cases!%20%5Cn%20Chose%20another%20point%20or%20adjust%20parameters!%22)%0A%0A%20%20%20%20%20%20%20%20%23%20Inlet%20conditions%0A%20%20%20%20%20%20%20%20VelCr%20%3D%20np.sqrt(2%20*%20Fluid.k%20%2F%20(Fluid.k%20%2B%201)%20*%20Fluid.R%20*%20InletConditions.T00)%20%20%20%20%23%20Critical%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Cm1h%20%3D%20Compressor.V0DivVcr%20*%20VelCr%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Absolute%20meridional%20velocity%20of%20the%20hub%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20T00i%20%3D%20np.full(len(Compressor.V0DivVcr)%2C%20InletConditions.T00)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inlet%20stagnation%20temperature%20array%20%5BK%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Calculation%20of%20inlet%20velocity%20triangles%20and%20compressor%20weight%20flow%20(swirl%20free)%0A%20%20%20%20%20%20%20%20curve1rms%20%3D%20np.sqrt((Compressor.curvet1%20**%202%20%2B%20Compressor.curveh1%20**%202)%20%2F%202)%20%20%20%20%23%20Root%20mean%20square%20of%20the%20inducer%20inlet%20hub%20and%20tip%20wall%20curvature%20%5Bm%5E-1%5D%0A%20%20%20%20%20%20%20%20r1rms%20%3D%20np.sqrt((Compressor.r1%20**%202%20%2B%20Compressor.rh%20**%202)%20%2F%202)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Root%20mean%20square%20of%20the%20hub%20and%20tip%20inlet%20radius%20%5Bm%5D%20%0A%0A%20%20%20%20%20%20%20%20%23%20Spacing%20for%20numerical%20integration%0A%20%20%20%20%20%20%20%20h0%20%3D%20r1rms%20-%20Compressor.rh%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B4)%20Spacing%20for%20numerical%20integration%20%5B-%5D%0A%20%20%20%20%20%20%20%20h1%20%3D%20Compressor.r1%20-%20r1rms%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B5)%20Spacing%20for%20numerical%20integration%20%5B-%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Absolute%20meridonal%20velocities%0A%20%20%20%20%20%20%20%20Cm1rms%20%3D%20Cm1h%20*%20np.exp((h0%20%2F%202)%20*%20(Compressor.curveh1%20%2B%20curve1rms))%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B2)%20Absolute%20meridional%20root%20mean%20square%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Cm1t%20%3D%20Cm1h%20*%20np.exp(((h0%20%2B%20h1)%20%2F%206)%20*%20((2%20-%20(h1%20%2F%20h0))%20*%20Compressor.curveh1%20%2B%20(((h0%20%2B%20h1)%20**%202)%20%2F%20(h1%20*%20h0))%20*%20curve1rms%20%2B%20(2%20-%20(h0%20%2F%20h1))%20*%20Compressor.curvet1))%20%20%20%20%20%20%23%20(B3)%20Absolute%20meridional%20velocity%20of%20the%20tip%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Velocities%20through%20the%20normal%20flow%20area%20at%20inlet%0A%20%20%20%20%20%20%20%20Cm1hn%20%3D%20Cm1h%20*%20np.cos(np.radians(Compressor.x))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B6)%20Normal%20component%20of%20the%20absolute%20hub%20velocity%20through%20flow%20area%20%5Bm%2Fs%5D%20%0A%20%20%20%20%20%20%20%20Cm1tn%20%3D%20Cm1t%20*%20np.cos(np.radians(Compressor.x))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B6)%20Normal%20component%20of%20the%20absolute%20tip%20velocity%20through%20flow%20area%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20Cm1rmsn%20%3D%20Cm1rms%20*%20np.cos(np.radians(Compressor.x))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B6)%20Normal%20component%20of%20the%20root%20mean%20square%20velocity%20through%20flow%20area%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Densities%20from%20stagnation%20temperature%20and%20different%20velocites%0A%20%20%20%20%20%20%20%20rho1h%20%3D%20InletConditions.rho0%20*%20(1%20-%20(Cm1h%20**%202%20%2F%20(2%20*%20Fluid.Cp%20*%20InletConditions.T00)))%20**%20(1%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inlet%20density%20of%20the%20fluid%20at%20the%20hub%20%5Bkg%2Fm%5E3%5D%0A%20%20%20%20%20%20%20%20rho1rms%20%3D%20InletConditions.rho0%20*%20(1%20-%20(Cm1rms%20**%202%20%2F%20(2%20*%20Fluid.Cp%20*%20InletConditions.T00)))%20**%20(1%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%20%20%20%20%20%20%20%23%20Root%20mean%20square%20density%20of%20the%20fluid%20%5Bkg%2Fm%5E2%5D%20%0A%20%20%20%20%20%20%20%20rho1t%20%3D%20InletConditions.rho0%20*%20(1%20-%20(Cm1t%20**%202%20%2F%20(2%20*%20Fluid.Cp%20*%20InletConditions.T00)))%20**%20(1%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inlet%20density%20of%20the%20fluid%20at%20the%20blade%20tip%20%5Bkg%2Fm%5E3%5D%0A%0A%20%20%20%20%20%20%20%20mdoto%20%3D%202%20*%20np.pi%20*%20(((h0%20%2B%20h1)%20%2F%206)%20*%20((2%20-%20(h1%20%2F%20h0))%20*%20(rho1h%20*%20Compressor.rh%20*%20Cm1hn)%20%2B%20((h0%20%2B%20h1)%20**%202%20%2F%20(h0%20*%20h1))%20*%20(rho1rms%20*%20r1rms%20*%20Cm1rmsn)%20%2B%20(2%20-%20(h0%20%2F%20h1))%20*%20(rho1t%20*%20Compressor.r1%20*%20Cm1tn)))%20%20%20%20%20%20%23%20(B7)%20Off%20Design%20point%20mass%20flow%20rate%20%5Bkg%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Blade%20speeds%0A%20%20%20%20%20%20%20%20U1to%20%3D%20np.pi%20*%20Compressor.No%20*%20Nrpm%20*%202%20*%20Compressor.r1%20%2F%2060%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20blade%20tip%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20U1ho%20%3D%20np.pi%20*%20Compressor.No%20*%20Nrpm%20*%202%20*%20Compressor.rh%20%2F%2060%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20blade%20hub%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20U1rmso%20%3D%20((U1to%20**%202%20%2B%20U1ho%20**%202)%20%2F%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20root%20mean%20square%20velocity%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Relative%20velocities%20at%20inlet%0A%20%20%20%20%20%20%20%20W1ho%20%3D%20(Cm1h%20**%202%20%2B%20U1ho%20**%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20hub%20relative%20velocity%20%5Bm%2Fs%5D%20%20%0A%20%20%20%20%20%20%20%20W1to%20%3D%20(Cm1t%20**%202%20%2B%20U1to%20**%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20tip%20relative%20velocity%20%5Bm%2Fs%5D%20%20%0A%20%20%20%20%20%20%20%20W1rmso%20%3D%20((W1ho%20**%202%20%2B%20W1to%20**%202)%20%2F%202)%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Root%20mean%20square%20relative%20velocity%20%5Bm%2Fs%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Relative%20flow%20inlet%20angles%20(not%20blade%20angle%2C%20but%20flow%20angle)%0A%20%20%20%20%20%20%20%20beta1t%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Hub%20inlet%20relative%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20beta1h%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Tip%20inlet%20relative%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20beta1rms%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Root%20mean%20square%20inlet%20relative%20angle%20%5Bdeg%5D%0A%0A%20%20%20%20%20%20%20%20T1%20%3D%20T00i%20-%20(Cm1rms%20**%202)%20%2F%20(2%20*%20Fluid.Cp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Inlet%20static%20temperature%20%5BK%5D%0A%20%20%20%20%20%20%20%20for%20i%20in%20range%20(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23beta1t.append(np.degrees(np.arctan(Cm1t%5Bi%5D%20%2F%20U1to)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Tip%20inlet%20relative%20angle%20%5Bdeg%5D%20%20%20%20MSG%3A%20Should%20this%20be%20U1to%2FCm1t%20instead%3F%20Seems%20to%20be%20different%20angle%20than%20what%20is%20used%20when%20finding%20eps.%20See%20https%3A%2F%2Fntrs.nasa.gov%2Fapi%2Fcitations%2F19930083715%2Fdownloads%2F19930083715.pdf.%20Also%2C%20is%20the%20tangential%20velocity%20of%20the%20fluid%20at%20the%20impeller%20tip%20inlet%20upstream%20of%20the%20blade%20assumed%20to%20be%20zero%3F%20Ref.%20eq.%20B26%20and%20B25%0A%20%20%20%20%20%20%20%20%20%20%20%20beta1t.append(np.degrees(np.arctan(U1to%20%2F%20Cm1t%5Bi%5D)))%0A%20%20%20%20%20%20%20%20%20%20%20%20%23beta1h.append(np.degrees(np.arctan(Cm1h%5Bi%5D%20%2F%20U1ho)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Hub%20inlet%20relative%20angle%20%5Bdeg%5D%20%20%20%20MSG%3A%20Should%20this%20be%20U1to%2FCm1t%20instead%3F%20Seems%20to%20be%20different%20angle%20than%20what%20is%20used%20when%20finding%20eps.%20See%20https%3A%2F%2Fntrs.nasa.gov%2Fapi%2Fcitations%2F19930083715%2Fdownloads%2F19930083715.pdf.%20Also%2C%20is%20the%20tangential%20velocity%20of%20the%20fluid%20at%20the%20impeller%20tip%20inlet%20upstream%20of%20the%20blade%20assumed%20to%20be%20zero%3F%20Ref.%20eq.%20B26%20and%20B25%0A%20%20%20%20%20%20%20%20%20%20%20%20beta1h.append(np.degrees(np.arctan(U1ho%20%2F%20Cm1h%5Bi%5D)))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20beta1rms.append(((beta1t%5Bi%5D%20**%202%20%2B%20beta1h%5Bi%5D%20**%202)%20%2F%202)%20**%200.5)%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Root%20mean%20square%20inlet%20relative%20angle%20%5Bdeg%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Inducer%20incidence%20loss%0A%20%20%20%20%20%20%20%20BBF%20%3D%201%20-%20(ZB%20*%20Compressor.tu)%20%2F%20(2%20*%20np.pi%20*%20r1rms)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(41)%20Blade%20Blockage%20Factor%20%5B-%5D%20%20%0A%20%20%20%20%20%20%20%20print('Blade%20blockage%20factor%20(should%20be%20around%200.9%20to%20align%20with%20Galvas%2C%201973)%3A'%2C%20BBF)%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%23%20Declaring%20variables%20before%20use%0A%20%20%20%20%20%20%20%20eps%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Difference%20between%20compressor%20inlet%20relative%20flow%20angle%20and%20optimum%20incidence%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20betaOpt%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Optimum%20relative%20flow%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20WL%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Relative%20velocity%20loss%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20dhInc%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Enthalpy%20loss%20due%20to%20incidence%20%5BJ%2Fkg%5D%0A%20%20%20%20%20%20%20%20T1oRel%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20inlet%20relative%20temperature%20%5BK%5D%0A%20%20%20%20%20%20%20%20W1cr%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Critical%20inlet%20relative%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20W1rmsEff%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Effective%20relative%20velocity%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20T0divT1%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Ratio%20of%20inlet%20static%20temperatures%20%5B-%5D%0A%20%20%20%20%20%20%20%20T1a%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Temperature%20just%20inside%20the%20blade%20%5BK%5D%0A%20%20%20%20%20%20%20%20T1rmso%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20Root%20mean%20square%20of%20static%20temperature%20at%20inlet%20%5BK%5D%0A%20%20%20%20%20%20%20%20P1rmso%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20root%20mean%20square%20of%20static%20pressure%20at%20the%20inlet%20%5BPa%5D%0A%20%20%20%20%20%20%20%20P1arms%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Total%20pressure%20just%20inside%20the%20bladed%20row%20%5BPa%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Looping%20to%20find%20every%20variable%20of%20interest%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20eps.append(np.degrees(np.arctan((1%20-%20BBF)%20*%20np.tan(np.radians(beta1rms%5Bi%5D))%20%2F%20(1%20%2B%20BBF%20*%20np.tan(np.radians(beta1rms%5Bi%5D))%20**%202))))%20%20%20%20%20%23%20(B40)%20Difference%20between%20compressor%20inlet%20relative%20flow%20angle%20and%20optimum%20incidence%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20betaOpt.append(beta1rms%5Bi%5D%20-%20eps%5Bi%5D)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B42)%20Optimum%20relative%20flow%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20WL.append(W1rmso%5Bi%5D%20*%20np.sin(np.radians(abs(betaOpt%5Bi%5D%20-%20beta1rms%5Bi%5D))))%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B43)%20Component%20of%20relative%20velocity%20lost%20%5Bm%2Fs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhInc.append((WL%5Bi%5D%20**%202)%20%2F%202)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B44)%20Enthalpy%20loss%20due%20to%20incidence%20%5BJ%2Fkg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20T1oRel.append(T1%5Bi%5D%20%2B%20W1rmso%5Bi%5D%20**%202%20%2F%20(2%20*%20Fluid.Cp))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20inlet%20relative%20temperature%20%5BK%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20W1cr.append((2%20*%20(Fluid.k%20-%201)%20%2F%20(Fluid.k%20%2B%201)%20*%20Fluid.R%20*%20T1oRel%5Bi%5D)%20**%200.5)%20%20%20%20%20%20%20%23%20Critical%20inlet%20relative%20velocity%20%5Bm%2Fs%5D%20%20%20%20MSG%3A%20Do%20not%20understand%20this%20equation%0A%20%20%20%20%20%20%20%20%20%20%20%20W1rmsEff.append(W1rmso%5Bi%5D%20*%20np.cos(betaOpt%5Bi%5D%20-%20beta1rms%5Bi%5D))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Effective%20relative%20velocity%20%5Bm%2Fs%5D%20%20%20%20%20%20MSG%3A%20Why%20is%20this%20the%20effective%20velocity%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20T0divT1.append(1%20-%20(Fluid.k%20-%201)%20%2F%20(Fluid.k%20%2B%201)%20*%20(W1rmsEff%5Bi%5D%20%2F%20W1cr%5Bi%5D)%20**%202)%20%20%20%20%23%20Ratio%20of%20inlet%20static%20to%20stagnation%20temperature%20%5B-%5D%20%20%20MSG%3A%20Do%20not%20understand%20this%20equation%0A%20%20%20%20%20%20%20%20%20%20%20%20T1a.append(T1oRel%5Bi%5D%20*%20T0divT1%5Bi%5D)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Temperature%20just%20inside%20the%20blade%20%5BK%5D%20%20%20%20%20MSG%3A%20Do%20not%20understand%20this%20equation%0A%20%20%20%20%20%20%20%20%20%20%20%20T1rmso.append(T00i%5Bi%5D%20-%20(Cm1rms%5Bi%5D%20**%202%20%2F%20(2%20*%20Fluid.Cp)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20root%20mean%20square%20of%20static%20temperature%20at%20inlet%20%5BK%5D%2C%20STAGNATION%20EQUATION%20%0A%20%20%20%20%20%20%20%20%20%20%20%20P1rmso.append(InletConditions.P00%20*%20(T1rmso%5Bi%5D%20%2F%20T00i%5Bi%5D)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201)))%20%20%20%20%20%23%20Off%20design%20root%20mean%20square%20of%20static%20pressure%20at%20the%20inlet%20%5BPa%5D%2C%20ISENTROPIC%20PROPERTY%0A%20%20%20%20%20%20%20%20%20%20%20%20P1arms.append(P1rmso%5Bi%5D%20*%20np.exp((-%20dhInc%5Bi%5D)%20%2F%20(T1a%5Bi%5D%20*%20Fluid.R)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B45)%20Total%20pressure%20just%20inside%20the%20bladed%20row%20%5BPa%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Impeller%20work%20and%20losses%0A%20%20%20%20%20%20%20%20U2o%20%3D%20U1to%20%2F%20(Compressor.r1%20%2F%20Compressor.r2)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Off%20design%20exit%20blade%20velocity%20%5Bm%2Fs%5D%2C%20CONSTANT%20ANGULAR%20VELOCITY%0A%0A%0A%20%20%20%20%20%20%20%20def%20density_impeller_outlet(rho2o)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%20Calculate%20a%20series%20of%20velocities%2C%20temperatures%20and%20enthalpies%20corresponding%20to%20the%20impeller%20outlet%20density%20rho2o.%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Finally%2C%20update%20density%20based%20on%20these%20properties.%20Function%20used%20for%20iteration%20%22%22%22%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Vm2m%20%3D%20mdoto%20%2F%20(np.pi%20*%20rho2o%20*%20(2%20*%20Compressor.r2)%20*%20b2)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B49)%20Meridional%20component%20of%20exit%20absolute%20velocity%20%5Bm%2Fs%5D%20%20%2C%20MASS%20BALANCE%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20VSL%20%3D%20U2o%20*%20(1%20-%20sigma)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B51)%20Slip%20velocity%20%5Bm%2Fs%5D%20%20%2C%20SLIP%20RELATION%20%20%20%20MSG%3A%20Check%20that%20this%20chooses%20the%20correct%20slip%20factor%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Vtheta2%20%3D%20(U2o%20-%20Vm2m%20*%20np.tan(np.radians(beta2B))%20-%20VSL)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B50)%20Tangential%20component%20of%20exit%20absolute%20velocity%20%5Bm%2Fs%5D%20%20%20%20%2C%20VELOCITY%20TRIANGLE%20%20%20%20MSG%3A%20I%20think%20the%20sign%20before%20VM2m%20is%20correct%20here%2C%20but%20not%20sure%0A%20%20%20%20%20%20%20%20%20%20%20%20T1orelrms%20%3D%20T1%20%2B%20W1rmso%20**%202%20%2F%20(2%20*%20Fluid.Cp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Relative%20root%20mean%20square%20temperature%20%5BK%5D%20%20%20%2C%20STAGNATION%20TEMPERATURE%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20T2orel%20%3D%20T1orelrms%20%2B%20((U2o%20**%202%20-%20U1rmso%20**%202)%20%2F%20(2%20*%20Fluid.Cp))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B52)%20Exit%20temperature%20in%20the%20relative%20reference%20frame%20%5BK%5D%20%20%2C%20STAGNATION%20RELATION%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Wtheta2%20%3D%20U2o%20-%20Vtheta2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B53)%20Tangential%20component%20of%20relative%20exit%20velocity%20%5Bm%2Fs%5D%2C%20VELOCITY%20TRIANGLE%0A%20%20%20%20%20%20%20%20%20%20%20%20W2%20%3D%20((Vm2m%20**%202)%20%2B%20(Wtheta2%20**%202))%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B54)%20Relative%20exit%20velocity%20%5Bm%2Fs%5D%20%20%20%2C%20%20VELOCITY%20TRIANGLE%0A%20%20%20%20%20%20%20%20%20%20%20%20T2o%20%3D%20(T2orel%20-%20((W2%20**%202)%20%2F%20(2%20*%20Fluid.Cp)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B55)%20Off%20design%20point%20exit%20temperature%20%5BK%5D%20%20%2C%20STAGNATION%20RELATION%0A%20%20%20%20%20%20%20%20%20%20%20%20V2%20%3D%20((Vm2m%20**%202)%20%2B%20(Vtheta2%20**%202))%20**%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B56)%20Off%20design%20point%20absolute%20exit%20velocity%20%5Bm%2Fs%5D%20%20%2C%20%20VELOCITY%20TRIANGLE%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20T2oabs%20%3D%20(T2o%20%2B%20(V2%20**%202)%20%2F%20(2%20*%20Fluid.Cp))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B57)%20Off%20design%20point%20exit%20temperature%20in%20the%20absolute%20reference%20frame%20%5BK%5D%20%20%20%2C%20STAGNATION%20RELATION%0A%20%20%20%20%20%20%20%20%20%20%20%20dhaero%20%3D%20(Fluid.Cp%20*%20InletConditions.T00%20*%20(T2oabs%20%2F%20InletConditions.T00%20-%201))%20%20%20%20%20%20%20%20%20%20%23%20(B61)%20Aerodynamic%20enthalpy%20rise%20%5BJ%2Fkg%5D%20%20%2C%20Cp*dT%0A%20%20%20%20%20%20%20%20%20%20%20%20qaero%20%3D%20dhaero%20%2F%20(U2o%20**%202)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B60)%20Dimensionless%20actual%20head%20%5B-%5D%20%20%20%2C%20WORK%20COEFFICIENT%0A%20%20%20%20%20%20%20%20%20%20%20%20Df%20%3D%20(1%20-%20W2%20%2F%20W1to%20%2B%20(Compressor.kBL%20*%20qaero)%20%2F%20((W1to%20%2F%20Compressor.U2)%20*%20((ZB%20%2F%20np.pi)%20*%20(1%20-%202%20*%20Compressor.r1%20%2F%20Compressor.D2)%20%2B%202%20*%202%20*%20Compressor.r1%20%2F%20Compressor.D2)))%20%20%20%23%20(B59)%20Diffusion%20factor%20%5B-%5D%20%20%2C%20EMPIRICAL%0A%20%20%20%20%20%20%20%20%20%20%20%20dhBL%20%3D%20(0.05%20*%20Df%20**%202%20*%20U2o%20**%202)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B58)%20Work%20loss%20due%20to%20blade%20loading%20%5BJ%2Fkg%5D%20%20%20%2C%20----%0A%20%20%20%20%20%20%20%20%20%20%20%20Re%20%3D%20U2o%20*%20Compressor.D2%20*%20rho1rms%20%2F%20Fluid.viscosity%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B63)%20Reynolds%20number%20of%20the%20exit%20flow%20%5B-%5D%20%20%20%2C%20%20----%0A%20%20%20%20%20%20%20%20%20%20%20%20dhDF%20%3D%20(0.01356%20*%20rho2o%20*%20U2o%20**%203%20*%20Compressor.D2%20**%202%20%2F%20(mdoto%20*%20Re%20**%200.2))%20%20%20%20%20%20%20%20%20%20%23%20(B62)%20Impeller%20disk%20friction%20loss%20%5BJ%2Fkg%5D%20%20%20%2C%20----%0A%20%20%20%20%20%20%20%20%20%20%20%20D1rms%20%3D%20np.sqrt((((2%20*%20Compressor.r1)%20**%202)%20%2B%20((2%20*%20Compressor.rh)%20**%202))%20%2F%202)%20%20%20%20%20%20%20%20%20%20%23%20Rootmean%20square%20of%20the%20diameter%20%5Bm%5D%20%20%2C%20RMS%0A%20%20%20%20%20%20%20%20%20%20%20%20LenDivDia%20%3D%200.5%20*%20(1%20-%20(D1rms%20%2F%200.3048))%20%2F%20(np.cos(np.radians(beta2B)))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B65)%20Blade%20length%20to%20diameter%20ratio%20%5B-%5D%20%20%20%2C%20%20----%0A%20%20%20%20%20%20%20%20%20%20%20%20%23HydDiaDivExitDia%20%3D%201%20%2F%20(ZB%20%2F%20(np.pi%20*%20np.cos(np.radians(beta2B))%20%2B%20Compressor.D2%20%2F%20b2))%20%2B%20(2%20%20*%20Compressor.r1%20%2F%20Compressor.D2)%20%2F%20(2%20%2F%20(1%20-%20Fluid.k)%20%2B%202%20*%20ZB%20%2F%20(np.pi%20*%20(1%20%2B%20Fluid.k))%20*%20np.sqrt(1%20%2B%20(np.tan(np.radians(Compressor.beta1)%20**%202)%20*%20(1%20%2B%20Fluid.k%20**%202%20%2F%202))))%20%20%20%20%20%23%20(B66)%20Ratio%20of%20hydraulic%20diameter%20and%20exit%20diameter%20%5B-%5D%20MSG%3A%20One%20paranthesis%20wrong%20and%20use%20inducer%20hub-tip%20diameter%20ratio%20instead%20of%20specific%20heat%20ratio%20according%20to%20(B66)%0A%20%20%20%20%20%20%20%20%20%20%20%20HydDiaDivExitDia%20%3D%201%20%2F%20(ZB%20%2F%20(np.pi%20*%20np.cos(np.radians(beta2B)))%20%2B%20Compressor.D2%20%2F%20b2)%20%2B%20(2%20%20*%20Compressor.r1%20%2F%20Compressor.D2)%20%2F%20(2%20%2F%20(1%20-%20Compressor.rh%20%2F%20Compressor.r1)%20%2B%202%20*%20ZB%20%2F%20(np.pi%20*%20(1%20%2B%20Compressor.rh%20%2F%20Compressor.r1))%20*%20np.sqrt(1%20%2B%20(np.tan(np.radians(Compressor.beta1)%20**%202)%20*%20(1%20%2B%20(Compressor.rh%20%2F%20Compressor.r1)%20**%202%20%2F%202))))%20%20%20%20%20%23%20(B66)%20Ratio%20of%20hydraulic%20diameter%20and%20exit%20diameter%20%5B-%5D%20MSG%3A%20This%20may%20be%20wrong%2C%20see%20additional_comments.tex%0A%20%20%20%20%20%20%20%20%20%20%20%20WRelDivWext2%20%3D%200.5%20*%20((Cm1rms%20%2F%20U2o)%20**%202%20%2B%20(D1rms%20%2F%20Compressor.D2)%20**%202%20%2B%20(W2%20%2F%20W1to)%20**%202%20*%20((Cm1rms%20%2F%20U2o)%20**%202%20%2B%20(2%20*%20Compressor.r1%20%2F%20Compressor.D2)%20**%202))%20%20%20%20%20%20%23%20(B67)%20Ratio%20of%20mean%20relative%20velocity%20and%20impeller%20exit%20velocity%5E2%20%5B-%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhSF%20%3D%20((Compressor.kSF%20*%20Compressor.Cf%20*%20LenDivDia%20*%20WRelDivWext2%20*%20U2o%20**%202)%20%2F%20HydDiaDivExitDia)%20%20%20%20%20%20%20%23%20(B64)%20Skin%20friction%20loss%20%5BJ%2Fkg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%23dhSF%20%3D%20Compressor.kSF%20*%20Compressor.Cf%20*%20LenDivDia%20%2F%20HydDiaDivExitDia%20*%20W1rmso%20**%202%20%20%20%20%20%23%20(B64)%20MSG%3A%20Alternative%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20dhid%20%3D%20(dhaero%20-%20dhInc%20-%20dhSF%20-%20dhDF%20-%20dhBL)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B68)%20Ideal%20enthalpy%20rise%20%5BJ%2Fkg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20etaR%20%3D%20dhid%20%2F%20dhaero%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B69)%20Impeller%20efficiency%20%5B-%5D%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20P2oabs%20%3D%20(P1arms%20*%20(etaR%20*%20dhaero%20%2F%20(Fluid.Cp%20*%20InletConditions.T00)%20%2B%201)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201)))%20%23%20(B70)%20Iteration%20of%20the%20off%20design%20exit%20absolute%20pressure%20%5BPa%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Check%20for%20invalid%20temperatures%20%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20l%20in%20range(len(T2o))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20T2o%5Bl%5D%20%3C%200%3A%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError('Temperature%20T2o%20is%20negative%20'%20%2B%20str(T2o%5Bl%5D)%20%2B%20'.%20Change%20range%20of%20V0%2FVcr')%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Find%20impeller%20outlet%20pressure%20and%20density%0A%20%20%20%20%20%20%20%20%20%20%20%20P2o%20%3D%20(P2oabs%20%2F%20((T2oabs%20%2F%20T2o)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201))))%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B71)%20Iteration%20of%20the%20off%20design%20exit%20pressure%20%5BPa%5D%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20rho2oit%20%3D%20P2o%20%2F%20(Fluid.R%20*%20T2o)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B72)%20Iteration%20of%20the%20off%20design%20exit%20density%20%5Bkg%2Fm%5E3%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5Brho2oit%2C%20T2o%2C%20dhaero%2C%20dhBL%2C%20dhDF%2C%20dhSF%2C%20dhid%2C%20T2oabs%2C%20P2oabs%2C%20Vtheta2%2C%20Vm2m%2C%20Df%2C%20P2o%2C%20V2%5D%0A%0A%0A%20%20%20%20%20%20%20%20def%20density_iteration()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%20Determine%20impeller%20outlet%20density%20for%20varying%20mass%20flow%20by%20making%20an%20initial%20guess%20for%20the%20density%20and%20iterating%20it%20until%20it%20converges%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20dhEstim%20%3D%20U2o%20**%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20(B46)%20Initial%20approximation%20of%20enthalpy%20rise%20in%20impeller%20%5BJ%2Fkg%5D%2C%20EULER%20EQUATION%20APPROXIMATION%20zero%20inlet%20swirl%0A%20%20%20%20%20%20%20%20%20%20%20%20T2oEstAbs%20%3D%20(dhEstim%20%2F%20(Fluid.Cp%20*%20InletConditions.T00)%20%2B%201)%20*%20InletConditions.T00%20%20%20%20%20%20%23%20(B47)%20Estimate%20of%20the%20off%20design%20impeller%20exit%20total%20temperature%20%5BK%5D%2C%20ENERGY%2FEULER%20EQUATION%0A%20%20%20%20%20%20%20%20%20%20%20%20rho2o%20%3D%20Compressor.rho1%20*%20(T2oEstAbs%20%2F%20InletConditions.T00)%20**%20(1%20%2F%20(Fluid.k%20-%201))%20%20%20%20%20%20%23%20(B48)%20Initial%20guess%20for%20impeller%20exit%20density%20%5Bkg%2Fm%5E3%5D%2C%20ISENTROPIC%20RELATION%0A%20%20%20%20%20%20%20%20%20%20%20%20rhoinit%20%3D%20rho2o%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20rho%20%3D%20%5B%5D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20T2o%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhaero%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhBL%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhDF%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhSF%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhid%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20T2oabs%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20P2oabs%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Vtheta2%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Vm2m%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Df%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20P2o%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20V2%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Determine%20impeller%20outlet%20density%20for%20different%20mass%20flows%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23print('V0%2FVcr%20%3D'%2C%20Compressor.V0DivVcr%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rhoafter%20%3D%20density_impeller_outlet(rho2o)%5B0%5D%5Bi%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20np.isnan(rhoafter)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError('Density%20calculation%20failed.%20Change%20range%20of%20V0%2FVcr')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho_iterated%20%3D%20%5Brhoinit%2C%20rhoafter%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Iterate%20impeller%20outlet%20density%20until%20it%20converges%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20abs(((rho_iterated%5B-%201%5D)%20-%20(rho_iterated%5B-%202%5D))%20%2F%20rho_iterated%5B-%202%5D)%20%3E%200.0001%3A%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho2oiti%2C%20T2oi%2C%20dhaeroi%2C%20dhBLi%2C%20dhDFi%2C%20dhSFi%2C%20dhidi%2C%20T2oabsi%2C%20P2oabsi%2C%20Vtheta2i%2C%20Vm2mi%2C%20Dfi%2C%20P2oi%2C%20V2i%20%3D%20density_impeller_outlet(rho_iterated%5B-%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho_iterated.append(rho2oiti%5Bi%5D)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho_iterated.append(rho2oiti%5Bi%5D)%20%20%20%20%23%20MSG%3A%20If%20this%20fails%2C%20then%20V%2FVcr%20is%20too%20small%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rho.append(rho2oiti%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T2o.append(T2oi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dhaero.append(dhaeroi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dhBL.append(dhBLi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dhDF.append(dhDFi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dhSF.append(dhSFi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dhid.append(dhidi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T2oabs.append(T2oabsi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2oabs.append(P2oabsi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Vtheta2.append(Vtheta2i%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Vm2m.append(Vm2mi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Df.append(Dfi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2o.append(P2oi%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20V2.append(V2i%5Bi%5D)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5Brho%2C%20T2o%2C%20dhaero%2C%20dhBL%2C%20dhDF%2C%20dhSF%2C%20dhid%2C%20T2oabs%2C%20P2oabs%2C%20Vtheta2%2C%20Vm2m%2C%20Df%2C%20P2o%2C%20V2%5D%0A%0A%20%20%20%20%20%20%20%20rho2%2C%20T2o%2C%20dhaero%2C%20dhBL%2C%20dhDF%2C%20dhSF%2C%20dhid%2C%20T2oabs%2C%20P2oabs%2C%20Vtheta2%2C%20Vm2m%2C%20Df%2C%20P2o%2C%20V2%20%3D%20density_iteration()%0A%0A%20%20%20%20%20%20%20%20rho2%20%3D%20np.array(rho2)%0A%20%20%20%20%20%20%20%20T2o%20%3D%20np.array(T2o)%0A%0A%20%20%20%20%20%20%20%20%23%20Enthalpy%20loss%20and%20power%20contributions%20%0A%20%20%20%20%20%20%20%20dhaero%20%3D%20np.array(dhaero)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Aerodynamic%20enthalpy%20rise%0A%20%20%20%20%20%20%20%20dhBL%20%3D%20np.array(dhBL)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Blade%20loading%0A%20%20%20%20%20%20%20%20dhDF%20%3D%20np.array(dhDF)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Disk%20friction%0A%20%20%20%20%20%20%20%20dhSF%20%3D%20np.array(dhSF)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Skin%20friciton%0A%20%20%20%20%20%20%20%20dhid%20%3D%20np.array(dhid)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Ideal%20enthaply%20rise%0A%20%20%20%20%20%20%20%20T2oabs%20%3D%20np.array(T2oabs)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Stagnation%20temperature%20at%20exit%0A%20%20%20%20%20%20%20%20P2oabs%20%3D%20np.array(P2oabs)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Stagnation%20pressure%20at%20exit%0A%20%20%20%20%20%20%20%20Vtheta2%20%3D%20np.array(Vtheta2)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Tangential%20velocity%20component%20at%20exit%0A%20%20%20%20%20%20%20%20Vm2m%20%3D%20np.array(Vm2m)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Meridonal%20velocity%20component%20at%20exit%0A%20%20%20%20%20%20%20%20V2%20%3D%20np.array(V2)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Absolute%20exit%20velocity%0A%20%20%20%20%20%20%20%20Df%20%3D%20np.array(Df)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Diffusion%20factor%0A%20%20%20%20%20%20%20%20P2o%20%3D%20np.array(P2o)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Stagnation%20pressure%20at%20exit%20after%20iteration%0A%20%20%20%20%20%20%20%20C2o%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Absolute%20flow%20velocity%20at%20oulet%0A%0A%20%20%20%20%20%20%20%20%23%20Finding%20impeller%20exit%20velocity%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20C2o.append((Vm2m%5Bi%5D%20**%202%20%2B%20Vtheta2%5Bi%5D%20**%202)%20**%200.5)%0A%20%20%20%20%20%20%20%20M2o%20%3D%20C2o%20%2F%20np.sqrt(Fluid.k%20*%20Fluid.R%20*%20T2oabs)%20%20%20%20%20%20%20%20%20%23%20MSG%3A%20Think%20this%20is%20wrong.%20Here%2C%20speed%20of%20sound%20calculation%20uses%20absolute%2Fstagnation%20temperature%2C%20but%20should%20use%20static%20temperature.%20Does%20not%20affect%20other%20properties%0A%0A%20%20%20%20%20%20%20%20%23%20Recirculation%20loss%2C%20work%20done%20on%20fluid%20going%20back%20%0A%20%20%20%20%20%20%20%20dhRC%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20alpha2%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha2.append(np.degrees(np.arctan(Vtheta2%5Bi%5D%20%2F%20Vm2m%5Bi%5D))%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Exit%20velocity%20flow%20angle%20%5Bdeg%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20dhRC.append(0.02%20*%20np.sqrt(np.tan(np.radians(alpha2%5Bi%5D)))%20*%20Df%5Bi%5D%20**%202%20*%20U2o%20**%202)%20%20%23%20(B73)%20Enthalpy%20loss%20from%20recirculation%20%5BJ%2Fkg%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Diffuser%20calculations%20and%20exit%20losses%0A%20%20%20%20%20%20%20%20etad%20%3D%20Compressor.etad%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Diffuser%20efficiency%0A%20%20%20%20%20%20%20%20CpDi%20%3D%201%20-%20(Compressor.AR%20**%20(-%202))%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Ideal%20pressure%20recovery%20coefficient%20%0A%20%20%20%20%20%20%20%20CpD%20%3D%20etad%20*%20CpDi%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Pressure%20recovery%20coefficient%0A%20%20%20%20%20%20%20%20M3o%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Mach%20number%0A%20%20%20%20%20%20%20%20P3oabs%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20dhVLD%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Vaneless%20diffuser%20loss%0A%20%20%20%20%20%20%20%20P3o%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Outlet%20stagnation%20pressure%0A%20%20%20%20%20%20%20%20C3o%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Outlet%20velocity%0A%20%20%20%20%20%20%20%20P03o%20%3D%20%5B%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20P3o.append(P2o%5Bi%5D%20%2B%20CpD%20*%200.5%20*%20rho2%5Bi%5D%20*%20C2o%5Bi%5D%20**%202)%0A%20%20%20%20%20%20%20%20%20%20%20%20C3o.append(C2o%5Bi%5D%20%2F%20Compressor.AR)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23T3o%20%3D%20T3oabs%20-%20C3o%20**%202%20%2F%20(2%20*%20Fluid.Cp)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20M3o.append(C3o%5Bi%5D%20%2F%20(np.sqrt(Fluid.k%20*%20Fluid.R%20*%20T2oabs%5Bi%5D)))%20%20%20%20%20%20%20%23%20MSG%3A%20Think%20this%20is%20wrong.%20Here%2C%20speed%20of%20sound%20calculation%20uses%20absolute%2Fstagnation%20temperature%2C%20but%20should%20use%20static%20temperature.%20It%20is%20also%20used%20at%20the%20wrong%20point.%20Should%20be%20T3o.%20Any%20way%20to%20obtain%20T3o%2FT3oabs%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20P3oabs.append(P3o%5Bi%5D%20*%20(1%20%2B%20(Fluid.k%20-%201)%20%2F%202%20*%20M3o%5Bi%5D%20**%202)%20**%20(Fluid.k%20%2F%20(Fluid.k%20-%201)))%20%20%20%20%23%20(B85)%20Absolute%20diffuser%20throat%20pressure%20%5BPa%5D%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20dhVLD.append(Fluid.Cp%20*%20T2oabs%5Bi%5D%20*%20((P3o%5Bi%5D%20%2F%20P3oabs%5Bi%5D)%20**%20((Fluid.k%20-%201)%20%2F%20Fluid.k)%20-%20(P3o%5Bi%5D%20%2F%20P2oabs%5Bi%5D)%20**%20((Fluid.k%20-%201)%20%2F%20Fluid.k)))%20%20%23%20(B86)%20Vaneless%20diffuser%20loss%20%5BJ%2Fkg%5D%0A%0A%20%20%20%20%20%20%20%20%23%20Overall%20performance%0A%20%20%20%20%20%20%20%20etao%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20etaoAlt%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20Pro%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(0%2C%20len(Compressor.V0DivVcr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20etaAppend%20%3D%20(dhaero%5Bi%5D%20-%20(dhInc%5Bi%5D%20%2B%20dhBL%5Bi%5D%20%2B%20dhSF%5Bi%5D%20%2B%20dhVLD%5Bi%5D))%20%2F%20(dhaero%5Bi%5D%20%2B%20dhRC%5Bi%5D%20%2B%20dhDF%5Bi%5D)%20%20%20%20%20%20%20%23%20MSG%3A%20Why%20put%20dhRC%20and%20dhDF%20in%20the%20denominator%20and%20not%20in%20nominator%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20etao.append(etaAppend)%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20P3append%20%3D%20P3o%5Bi%5D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20P3append%20%3D%20P3oabs%5Bi%5D%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Pro.append(P3append%20%2F%20InletConditions.P00)%0A%0A%20%20%20%20%20%20%20%20enthalpy_rise_loss%20%3D%20%5Bdhaero%2C%20dhInc%2C%20dhBL%2C%20dhSF%2C%20dhVLD%2C%20dhRC%2C%20dhDF%5D%0A%20%20%20%20%20%20%20%20return%20Pro%2C%20P3o%2C%20T2oabs%2C%20mdoto%2C%20etao%2C%20U2o%2C%20M2o%2C%20enthalpy_rise_loss%2C%20V2%2C%20etaoAlt%0A%0A%0A%20%20%20%20def%20off_design_performance(Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Calculate%20off-design%20performance%20for%20varying%20rotational%20speed%20by%20calling%20off_design_performance_rpm%20function%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20results_off_design%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20N_errors%20%3D%200%0A%20%20%20%20%20%20%20%20for%20iN%20in%20range(0%2C%20len(Compressor.N_off_design_arr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print('%5CnRotational%20velocity%20%3D'%2C%20Compressor.N_off_design_arr%5BiN%5D%2C%20'RPM')%0A%20%20%20%20%20%20%20%20%20%20%20%20Compressor.V0DivVcr%20%3D%20np.linspace(Compressor.V0DivVcr_off_design_arr%5B2%20*%20iN%5D%2C%20Compressor.V0DivVcr_off_design_arr%5B2%20*%20iN%20%2B%201%5D%2C%20400)%0A%20%20%20%20%20%20%20%20%20%20%20%20Pro%2C%20P3o%2C%20T2oabs%2C%20mdoto%2C%20etao%2C%20U2o%2C%20M2o%2C%20enthalpy_rise_loss%2C%20V2%2C%20etaoAlt%20%3D%20off_design_performance_rpm(Compressor.N_off_design_arr%5BiN%5D%2C%20Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Check%20if%20all%20efficiencies%20are%20in%20the%20range%20%5B0%2C%201%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20etao%20%3D%20np.array(etao)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20any(etao%20%3C%200)%20or%20any(etao%20%3E%201)%3A%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f'%5CtError%3A%20Rotational%20speed%20%3D%20%7BCompressor.N_off_design_arr%5BiN%5D%7D%20RPM%20has%20efficiency%20outside%20range%20%5B0%2C%201%5D.%20Efficiencies%20%3D'%2C%20etao)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20N_errors%20%2B%3D%201%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Make%20arrays%20for%20corrected%20mass%20flow%20and%20corrected%20speed%20using%20reference%20conditions%0A%20%20%20%20%20%20%20%20%20%20%20%20T_ref%20%3D%20288.15%0A%20%20%20%20%20%20%20%20%20%20%20%20P_ref%20%3D%201.01300e5%20%0A%20%20%20%20%20%20%20%20%20%20%20%20correctedMass%20%3D%20mdoto%20*%20(InletConditions.P00%20%2F%20P_ref)%20%2F%20np.sqrt(InletConditions.T00%20%2F%20T_ref)%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20correctedSpeed%20%3D%20Compressor.N_off_design_arr%5BiN%5D%20%2F%20np.sqrt(InletConditions.T00%20%2F%20T_ref)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20results_off_design.append(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'N'%3A%20Compressor.N_off_design_arr%5BiN%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Pro'%3A%20np.array(Pro)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'P3o'%3A%20np.array(P3o)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'T2oabs'%3A%20np.array(T2oabs)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'mdoto'%3A%20np.array(mdoto)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'etao'%3A%20np.array(etao)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'U2o'%3A%20np.array(U2o)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'M2o'%3A%20np.array(M2o)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'mdoto_corrected'%3A%20np.array(correctedMass)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'N_corrected'%3A%20np.array(correctedSpeed)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'enthalpy_rise_loss'%3A%20np.array(enthalpy_rise_loss)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'V2'%3A%20np.array(V2)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'etaoAlt'%3A%20np.array(etaoAlt)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%0A%20%20%20%20%20%20%20%20print('%5CnOff-design_performance%20calculated%20successfully.')%0A%20%20%20%20%20%20%20%20print(f'Number%20of%20errors%20in%20efficiency%3A%20%7BN_errors%7D%20out%20of%20%7Blen(Compressor.N_off_design_arr)%7D%20rotational%20speeds')%0A%0A%20%20%20%20%20%20%20%20return%20results_off_design%0A%0A%0A%20%20%20%20def%20plot_off_design(results_off_design%2C%20Compressor%2C%20InletConditions)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%20Plot%20the%20results%20from%20the%20off-design%20performance%20calculations%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20pressure%20ratio%0A%20%20%20%20%20%20%20%20fig1%20%3D%20plt.figure('Total-to-static%20pressure%20ratio')%0A%0A%20%20%20%20%20%20%20%20if%20Compressor.name%20%3D%3D%20%22LUT%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20df%20%3D%20pd.DataFrame(_csv_LUT_data)%0A%20%20%20%20%20%20%20%20%20%20%20%20x_values_1%20%3D%20df.iloc%5B%3A%2C%200%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y_values_curve_1%20%3D%20df.iloc%5B%3A%2C%201%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20x_values_2%20%3D%20df.iloc%5B%3A%2C%202%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y_values_curve_2%20%3D%20df.iloc%5B%3A%2C%203%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20x_values_3%20%3D%20df.iloc%5B%3A%2C%204%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y_values_curve_3%20%3D%20df.iloc%5B%3A%2C%205%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20x_values_4%20%3D%20df.iloc%5B%3A%2C%206%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y_values_curve_4%20%3D%20df.iloc%5B%3A%2C%207%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20x_values_5%20%3D%20df.iloc%5B%3A%2C%208%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y_values_curve_5%20%3D%20df.iloc%5B%3A%2C%209%5D%0A%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20Nplot%20%3D%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20result%5B'Pro'%5D%2C%20label%20%3D%20Nplot)%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24%5Cfrac%7BP_%7B3%7D%7D%7BP_%7B00%7D%7D%24'%2C%20rotation%20%3D%2045%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20'%20%2B%20'%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20plt.legend(loc%20%3D%20'center%20left'%2C%20bbox_to_anchor%20%3D%20(1%2C%200.5))%0A%20%20%20%20%20%20%20%20if%20Compressor.name%20%3D%3D%20%22LUT%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(np.array(x_values_1)%2C%20np.array(y_values_curve_1)%2C%20'k-'%2C%20label%20%3D%20'Design%20curve%201')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(np.array(x_values_2)%2C%20np.array(y_values_curve_2)%2C%20'k--'%2C%20label%20%3D%20'Design%20curve%202')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(np.array(x_values_3)%2C%20np.array(y_values_curve_3)%2C%20'k-.'%2C%20label%20%3D%20'Design%20curve%203')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(np.array(x_values_4)%2C%20np.array(y_values_curve_4)%2C%20'k%3A'%2C%20label%20%3D%20'Design%20curve%204')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(np.array(x_values_5)%2C%20np.array(y_values_curve_5)%2C%20'k%3A'%2C%20label%20%3D%20'Design%20curve%205')%0A%20%20%20%20%20%20%20%20plt.tight_layout(rect%20%3D%20%5B0%2C%200%2C%200.98%2C%201%5D)%0A%20%20%20%20%20%20%20%20%23plt.plot(%5B0%2C%2050%5D%2C%20%5B1%2C%201%5D%2C%20'r--')%0A%20%20%20%20%20%20%20%20plt.title(r'Total-to-static%20pressure%20ratio')%0A%20%20%20%20%20%20%20%20%23plt.grid(True)%0A%20%20%20%20%20%20%20%20plt.ylim(1%2C%20)%0A%20%20%20%20%20%20%20%20plt.plot(InletConditions.mdot%2C%20Compressor.Pr%2C%20'ro'%2C%20label%20%3D%20'Design%20pt.')%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20Mach%20number%0A%20%20%20%20%20%20%20%20plt.figure('Impeller%20exit%20Mach%20number')%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20Nplot%20%3D%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20result%5B'M2o'%5D%2C%20label%20%3D%20Nplot)%0A%20%20%20%20%20%20%20%20plt.axvline(x%20%3D%20InletConditions.mdot%2C%20color%20%3D%20'r'%2C%20linewidth%20%3D%200.75%2C%20label%20%3D%20r'%24%5Cdot%7Bm%7D_%5Cmathrm%7Bdes%7D%24')%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24%7BMa%7D_2%24'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20'%20%2B%20'%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.legend(loc%20%3D%20'center%20left'%2C%20bbox_to_anchor%20%3D%20(1%2C%200.5))%0A%20%20%20%20%20%20%20%20plt.title('Impeller%20Mach%20number')%0A%20%20%20%20%20%20%20%20plt.tight_layout(rect%20%3D%20%5B0%2C%200%2C%200.98%2C%201%5D)%0A%20%20%20%20%20%20%20%20plt.grid(True)%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20efficiency%20curve%0A%20%20%20%20%20%20%20%20plt.figure('Efficiency')%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20Nplot%20%3D%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20result%5B'etao'%5D%2C%20label%20%3D%20Nplot)%0A%20%20%20%20%20%20%20%20plt.axvline(x%20%3D%20InletConditions.mdot%2C%20color%20%3D%20'r'%2C%20linewidth%20%3D%200.75%2C%20label%20%3D%20r'%24%5Cdot%7Bm%7D_%5Cmathrm%7Bdes%7D%24')%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24%5Ceta%24'%2C%20rotation%20%3D%2045%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20'%20%2B%20'%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.legend(loc%20%3D%20'center%20left'%2C%20bbox_to_anchor%20%3D%20(1%2C%200.5))%0A%20%20%20%20%20%20%20%20plt.tight_layout(rect%20%3D%20%5B0%2C%200%2C%200.98%2C%201%5D)%0A%20%20%20%20%20%20%20%20plt.title(r'Efficiency%20')%0A%20%20%20%20%20%20%20%20plt.grid(True)%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20exit%20tip%20velocity%0A%20%20%20%20%20%20%20%20plt.figure('Exit%20tip%20velocity')%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'N'%5D%2C%20result%5B'U2o'%5D%2C%20'ko')%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24N%24%20%5Brpm%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24U_2%20%24%20%5Bm%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.title('Impeller%20exit%20tip%20speed')%0A%20%20%20%20%20%20%20%20plt.grid(True)%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20enthalpy%20rise%2Floss%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20total_loss%20%3D%20result%5B'enthalpy_rise_loss'%5D%5B1%5D%20%2B%20result%5B'enthalpy_rise_loss'%5D%5B2%5D%20%2B%20result%5B'enthalpy_rise_loss'%5D%5B3%5D%20%2B%20result%5B'enthalpy_rise_loss'%5D%5B4%5D%20%2B%20result%5B'enthalpy_rise_loss'%5D%5B5%5D%20%2B%20result%5B'enthalpy_rise_loss'%5D%5B6%5D%20%20%20%20%20%20%23MSG%3A%20Does%20not%20match%20the%20definition%20of%20efficiency%20where%20RC%20and%20DF%20are%20placed%20in%20the%20denominator%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.figure(r'Enthalpy%20rise%2Floss%20N%20%3D%20'%20%2B%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23plt.plot(result%5B'mdoto'%5D%2C%20result%5B'enthalpy_rise_loss'%5D%5B0%5D%2C%20label%20%3D%20'Aerodynamic%20rise')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B1%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Incidence%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B2%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Blade%20loading%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B3%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Skin%20friction%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B4%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Vaneless%20diffuser%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B5%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Recirculation%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B6%5D%20%2F%20total_loss)%2C%20label%20%3D%20'Impeller%20disk%20friction%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20%23plt.plot(result%5B'mdoto'%5D%2C%20np.array(result%5B'enthalpy_rise_loss'%5D%5B0%5D%20)%2C%20label%20%3D%20'Enthalpy%20rise')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20total_loss%20%2F%20total_loss%2C%20label%20%3D%20'Total%20loss')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.axvline(x%20%3D%20InletConditions.mdot%2C%20color%20%3D%20'r'%2C%20linewidth%20%3D%200.75%2C%20label%20%3D%20r'%24%5Cdot%7Bm%7D_%5Cmathrm%7Bdes%7D%24')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20'%20%2B%20'%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.ylabel(r'Share%20of%20total%20loss%20%5B%25%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.title(r'Enthalpy%20rise%2Floss%20N%20%3D%20'%20%2B%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.legend()%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.ylim(0%2C)%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.xlim(min(result%5B'mdoto'%5D)%2C%20max(result%5B'mdoto'%5D))%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20performance%20map%0A%20%20%20%20%20%20%20%20plt.figure('Performance%20map')%0A%0A%20%20%20%20%20%20%20%20%23%20Obtain%20the%20lines%20of%20constant%20efficiency%20for%20plotting%20the%20compressor%20performance%20map%0A%20%20%20%20%20%20%20%20constant_eff_lines%20%3D%20Compressor.constant_eff_lines%0A%20%20%20%20%20%20%20%20constant_eff_line_mdot%20%3D%20%5B%5B%5B%5B%5D%2C%20%5B%5D%5D%20for%20i%20in%20range(len(constant_eff_lines))%5D%20for%20_%20in%20range(len(Compressor.N_off_design_arr))%5D%0A%20%20%20%20%20%20%20%20constant_eff_line_pr%20%3D%20%5B%5B%5B%5B%5D%2C%20%5B%5D%5D%20for%20i%20in%20range(len(constant_eff_lines))%5D%20for%20_%20in%20range(len(Compressor.N_off_design_arr))%5D%0A%0A%20%20%20%20%20%20%20%20for%20iN%20in%20range(0%2C%20len(Compressor.N_off_design_arr))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mdoto%20%3D%20results_off_design%5BiN%5D%5B'mdoto'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Pro%20%3D%20results_off_design%5BiN%5D%5B'Pro'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20etao%20%3D%20results_off_design%5BiN%5D%5B'etao'%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Finding%20the%20constant%20efficiency%20lines%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20range(len(constant_eff_lines))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20any(etao%20%3E%3D%20constant_eff_lines%5Bi%5D)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20etao%5B0%5D%20%3C%3D%20constant_eff_lines%5Bi%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index_0%20%3D%20np.argmax(etao%20%3E%3D%20constant_eff_lines%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20mdoto%5Bindex_0%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20Pro%5Bindex_0%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20etao%5B-%201%5D%20%3C%3D%20constant_eff_lines%5Bi%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index_1%20%3D%20np.argmax(etao%5Bindex_0%3A%5D%20%3C%20constant_eff_lines%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20mdoto%5Bindex_0%20%2B%20index_1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20Pro%5Bindex_0%20%2B%20index_1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20etao%5B-%201%5D%20%3C%3D%20constant_eff_lines%5Bi%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index_1%20%3D%20np.argmax(etao%20%3C%20constant_eff_lines%5Bi%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20mdoto%5Bindex_1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20Pro%5Bindex_1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B0%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_mdot%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constant_eff_line_pr%5BiN%5D%5Bi%5D%5B1%5D%20%3D%20np.nan%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20colors%20%3D%20%5B'r'%2C%20'g'%2C%20'b'%2C%20'c'%2C%20'm'%2C%20'y'%5D%20%20%23%20Colors%20for%20the%20constant%20efficiency%20lines%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20Nplot%20%3D%20f%22RPM%20%3D%20%7Bresult%5B'N'%5D%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20result%5B'Pro'%5D%2C%20label%20%3D%20Nplot)%0A%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(len(constant_eff_lines))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20line_1_mdot%20%3D%20%5Bconstant_eff_line_mdot%5Bj%5D%5Bi%5D%5B0%5D%20for%20j%20in%20range(len(constant_eff_line_mdot))%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20line_2_mdot%20%3D%20%5Bconstant_eff_line_mdot%5Bj%5D%5Bi%5D%5B1%5D%20for%20j%20in%20range(len(constant_eff_line_mdot))%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20line_1_pr%20%3D%20%5Bconstant_eff_line_pr%5Bj%5D%5Bi%5D%5B0%5D%20for%20j%20in%20range(len(constant_eff_line_pr))%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20line_2_pr%20%3D%20%5Bconstant_eff_line_pr%5Bj%5D%5Bi%5D%5B1%5D%20for%20j%20in%20range(len(constant_eff_line_pr))%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(line_1_mdot%2C%20line_1_pr%2C%20linestyle%20%3D%20'--'%2C%20color%20%3D%20colors%5Bi%5D%2C%20label%20%3D%20f'Efficiency%20%3D%20%7Bconstant_eff_lines%5Bi%5D%7D')%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(line_2_mdot%2C%20line_2_pr%2C%20linestyle%20%3D%20'--'%2C%20color%20%3D%20colors%5Bi%5D)%0A%20%20%20%20%20%20%20%20plt.plot(InletConditions.mdot%2C%20Compressor.Pr%2C%20'ro'%2C%20label%20%3D%20'Design%20point')%20%20%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24%5Cfrac%7BP_%7B3%7D%7D%7BP_%7B00%7D%7D%24'%2C%20rotation%20%3D%2045%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.title('Performance%20map')%0A%20%20%20%20%20%20%20%20plt.legend(loc%20%3D%20'center%20left'%2C%20bbox_to_anchor%20%3D%20(1%2C%200.5))%0A%20%20%20%20%20%20%20%20plt.tight_layout(rect%20%3D%20%5B0%2C%200%2C%200.98%2C%201%5D)%0A%20%20%20%20%20%20%20%20plt.ylim(1%2C%20)%0A%20%20%20%20%20%20%20%20plt.grid(True)%0A%0A%20%20%20%20%20%20%20%20%23%20Plot%20exit%20velocity%20V2%0A%20%20%20%20%20%20%20%20plt.figure('Exit%20velocity%20V2')%0A%20%20%20%20%20%20%20%20for%20result%20in%20results_off_design%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20plt.plot(result%5B'mdoto'%5D%2C%20result%5B'V2'%5D%2C%20label%20%3D%20f%22%7Bresult%5B'N'%5D%20*%201e-3%3A.0f%7D%20krpm%22)%0A%20%20%20%20%20%20%20%20plt.axvline(x%20%3D%20InletConditions.mdot%2C%20color%20%3D%20'r'%2C%20linewidth%20%3D%200.75%2C%20label%20%3D%20r'%24%5Cdot%7Bm%7D_%5Cmathrm%7Bdes%7D%24')%0A%20%20%20%20%20%20%20%20plt.xlabel(r'%24%5Cdot%7Bm%7D%24'%20%2B%20'%20%5Bkg%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.ylabel(r'%24V_2%24'%20%2B%20'%20%5Bm%2Fs%5D'%2C%20fontsize%20%3D%2012)%0A%20%20%20%20%20%20%20%20plt.title('Exit%20velocity%20V2')%20%20%20%0A%20%20%20%20%20%20%20%20plt.legend()%0A%0A%0A%40app.cell%0Adef%20select()%3A%0A%0A%20%20%20%20%23%20Select%20working%20fluid%2C%20'h2'%2C%20'air'%20or%20'r-134a'%0A%20%20%20%20fluid_name%20%3D%20mo.ui.dropdown(options%3D%5B%22air%22%2C%20%22h2%22%2C%20%22R134a%22%5D%2C%20value%3D%22air%22%2C%20label%3D%22Working%20fluid%22)%0A%0A%20%20%20%20%23%20Select%20the%20compressor%20under%20study%2C%20%0A%20%20%20%20compressor_name%20%3D%20mo.ui.dropdown(options%3D%5B%22japikse%22%2C%20%22lowe%22%2C%20%22LUT%22%2C%20%22NASA%22%2C%20%22NREC%22%2C%20%22default%22%5D%2C%20value%3D%22LUT%22%2C%20label%3D%22Compressor%20specification%22)%0A%20%20%20%20(fluid_name%2Ccompressor_name)%0A%20%20%20%20return%20compressor_name%2C%20fluid_name%0A%0A%0A%40app.cell%0Adef%20init(compressor_name%2C%20fluid_name)%3A%0A%0A%20%20%20%20%23%20Load%20and%20make%20instances%20of%20classes%20for%20fluid%2C%20inlet%20conditions%2C%20compressor%20and%20iteration%20matrices%0A%20%20%20%20Fluid%20%3D%20settings.Fluid(fluid_name%20%3D%20fluid_name.value)%0A%20%20%20%20InletConditions%20%3D%20settings.InletConditions(fluid_instance%20%3D%20Fluid%2C%20compressor_name%20%3D%20compressor_name.value)%0A%20%20%20%20Compressor%20%3D%20settings.Compressor(fluid_instance%20%3D%20Fluid%2C%20inlet_conditions_instance%20%3D%20InletConditions%2C%20compressor_name%20%3D%20compressor_name.value)%0A%20%20%20%20IterationMatrix%20%3D%20settings.IterationMatrix(compressor_instance%20%3D%20Compressor)%0A%0A%20%20%20%20print(f%22Initialised%20fluid%20%7BFluid.name%7D%20and%20compressor%20type%20%7BCompressor.name%7D%22)%0A%0A%20%20%20%20return%20Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix%0A%0A%0A%40app.cell%0Adef%20ondesign(Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%0A%20%20%20%20inducer_optimization(Compressor.Ndes%2C%20Fluid%2C%20InletConditions%2C%20Compressor)%0A%20%20%20%20impeller_optimization(Compressor%2C%20InletConditions%2C%20Fluid%2C%20IterationMatrix)%0A%20%20%20%20plot_geometry(Compressor%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20plt.show()%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20offdesign(Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%3A%0A%0A%20%20%20%20results_off_design%20%3D%20off_design_performance(Compressor%2C%20Fluid%2C%20InletConditions%2C%20IterationMatrix)%0A%20%20%20%20plot_off_design(results_off_design%2C%20Compressor%2C%20InletConditions)%0A%20%20%20%20plt.show()%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A</marimo-code></head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "notebook.py",
            "mode": "edit",
            "version": "0.17.7",
            "serverToken": "unused",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "off", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "compact"},
            "view": {"showAppCode": false},
            "notebook": null,
            "session": null,
            "runtimeConfig": null,
        };
    </script>
  </body>
</html>
